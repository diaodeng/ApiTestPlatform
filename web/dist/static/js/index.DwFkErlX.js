import{A as je,r as _,v as Y,d as f,o as d,c as g,e,f as l,i as x,p as u,h as t,K as q,m as v,n as Q,O as A,a as Me,J as Qe,N as ze,H as ke,I as y,M as ne,l as He,P as M,y as w,F as We,s as Xe,au as Ve}from"./index.N0ypA0wQ.js";import{_ as Ye}from"./run-config.CZpgWmf3.js";import{l as Ze,a as he,c as el,r as ll,g as we,u as ol,b as tl,s as al,d as nl}from"./job.C76VByNn.js";import{C as ul}from"./index.BDG5tqkE.js";import{A as rl}from"./ace-editor.Zku3GY4j.js";import{R as j}from"./enum.Cve1eJHF.js";import{_ as sl}from"./case-table-query.CSSzayYD.js";import{_ as dl}from"./module-table-query.BA8awfxK.js";import{_ as il}from"./project-table-query.DHBG36L_.js";import{_ as pl}from"./suite-table-query.rRUnmKkE.js";import{j as fl}from"./data-template.pUAxcsDo.js";import"./env-selector.Ck8UcPDe.js";import"./env.CsFNKyYM.js";import"./forward.BcwXDGVj.js";import"./agent.CW2QP-1A.js";import"./tools.fhJnEm5t.js";import"./ResizeObserver.es.B1PUzC5B.js";import"./case.8QPGVk5D.js";import"./module.BtM26r-p.js";import"./project.DdvPERQ7.js";const ml={class:"dialog-footer"},bl={class:"dialog-footer"},vl={__name:"run-data-config",props:{runType:{default:j.case},runTypeModifiers:{},runIds:{default:[]},runIdsModifiers:{}},emits:["update:runType","update:runIds"],setup(ue){const k=je(ue,"runType"),m=je(ue,"runIds"),S=_(!1),E=_(!1),$=_(null),re=Y(()=>m.value?m.value.join(","):""),Z=Y(()=>k.value===j.case?"配置用例数据":k.value===j.module?"配置模块数据":k.value===j.project?"配置项目数据":k.value===j.suite?"配置套件数据":"");function N(){m.value=[]}function z(){m.value=$.value.getSelectedIds(),E.value=!1}return(F,s)=>{const J=f("el-button"),H=f("el-dialog"),K=f("el-radio"),W=f("el-radio-group"),B=f("el-tooltip"),P=f("el-container"),D=f("el-footer");return d(),g(A,null,[e(H,{modelValue:t(S),"onUpdate:modelValue":s[2]||(s[2]=T=>q(S)?S.value=T:null),title:"数据类型变更提醒",width:"500"},{footer:l(()=>[x("div",ml,[e(J,{onClick:s[0]||(s[0]=T=>S.value=!1)},{default:l(()=>s[6]||(s[6]=[u("取消")])),_:1}),e(J,{type:"primary",onClick:s[1]||(s[1]=T=>S.value=!1)},{default:l(()=>s[7]||(s[7]=[u(" 确定 ")])),_:1})])]),default:l(()=>[s[8]||(s[8]=x("span",null,"只能选择一种数据类型，修改数据类型将删除原有数据，确定修改？",-1))]),_:1},8,["modelValue"]),e(W,{modelValue:k.value,"onUpdate:modelValue":s[3]||(s[3]=T=>k.value=T),onChange:N},{default:l(()=>[e(K,{value:t(j).case},{default:l(()=>s[9]||(s[9]=[u("用例")])),_:1},8,["value"]),e(K,{value:t(j).module},{default:l(()=>s[10]||(s[10]=[u("模块")])),_:1},8,["value"]),e(K,{value:t(j).project},{default:l(()=>s[11]||(s[11]=[u("项目")])),_:1},8,["value"]),e(K,{value:t(j).suite},{default:l(()=>s[12]||(s[12]=[u("套件")])),_:1},8,["value"])]),_:1},8,["modelValue"]),e(B,{class:"box-item",effect:"dark",content:t(re),placement:"top-start"},{default:l(()=>[e(J,{style:{"margin-left":"10px"},round:"",type:"success",onClick:s[4]||(s[4]=()=>{E.value=!0})},{default:l(()=>s[13]||(s[13]=[u("配置数据")])),_:1})]),_:1},8,["content"]),e(H,{modelValue:t(E),"onUpdate:modelValue":s[5]||(s[5]=T=>q(E)?E.value=T:null),title:t(Z),width:"90%","destroy-on-close":""},{footer:l(()=>[x("div",bl,[e(J,{type:"primary",onClick:z},{default:l(()=>s[14]||(s[14]=[u("确定")])),_:1})])]),default:l(()=>[e(P,{style:{display:"flex","overflow-x":"auto"}},{default:l(()=>[k.value===t(j).case?(d(),v(sl,{key:0,ref_key:"dataTableRef",ref:$,"checked-ids":m.value},null,8,["checked-ids"])):k.value===t(j).module?(d(),v(dl,{key:1,ref_key:"dataTableRef",ref:$,"checked-ids":m.value},null,8,["checked-ids"])):k.value===t(j).project?(d(),v(il,{key:2,ref_key:"dataTableRef",ref:$,"checked-ids":m.value},null,8,["checked-ids"])):k.value===t(j).suite?(d(),v(pl,{key:3,ref_key:"dataTableRef",ref:$,"checked-ids":m.value},null,8,["checked-ids"])):Q("",!0)]),_:1}),e(D)]),_:1},8,["modelValue","title"])],64)}}},_l={class:"app-container"},gl={class:"dialog-footer"},cl={class:"dialog-footer"},yl={key:0},jl={key:1},kl={key:0},Vl={key:1},wl={key:0},xl={key:1},Cl={key:2},Sl={key:3},Nl={class:"dialog-footer"},Tl=We({name:"QtrJob"}),Xl=Object.assign(Tl,{setup(ue){const k=Me(),{proxy:m}=Xe(),{sys_job_group:S,sys_job_status:E,sys_job_executor:$}=m.useDict("sys_job_group","sys_job_status","sys_job_executor"),{job_run_status:re}=m.useDict("job_run_status"),Z=_([]),N=_(!1),z=_(!1),F=_(!0),s=_(!0),J=_([]),H=_(!0),K=_(!0),W=_(0),B=_(""),P=_(!1),D=_(!1),T=_(""),se=Y(()=>n.value.jobKwargs?JSON.parse(n.value.jobKwargs):JSON.parse(JSON.stringify(fl))),h=Y({get(){return n.value.jobKwargs&&JSON.parse(n.value.jobKwargs).runType?JSON.parse(n.value.jobKwargs).runType:j.case},set(r){let o=JSON.parse(n.value.jobKwargs||"{}");o.runType=r,n.value.jobKwargs=JSON.stringify(o)}}),X=Y({get(){return n.value.jobKwargs&&JSON.parse(n.value.jobKwargs).ids?JSON.parse(n.value.jobKwargs).ids:[]},set(r){let o=JSON.parse(n.value.jobKwargs||"{}");o.ids=r,n.value.jobKwargs=JSON.stringify(o)}}),xe=Qe({form:{jobGroup:"sqlalchemy",jobExecutor:"default",cronExpression:"0 0 0 1 1 ?",jobArgs:"",jobKwargs:"",jobId:void 0,jobName:void 0,invokeTarget:"module_task.scheduler_qtr.job_run_test",misfirePolicy:"1",concurrent:"1",status:"0"},queryParams:{pageNum:1,pageSize:10,jobName:void 0,jobGroup:void 0,status:void 0,jobExecutor:void 0,cronExpression:void 0},rules:{jobName:[{required:!0,message:"任务名称不能为空",trigger:"blur"}],testData:[{required:!0,message:"测试数据不能为空",trigger:"blur",validator:(r,o,V)=>{(!X.value||X.value.length<=0||!h.value)&&V(new Error("请选择测试数据")),V()}}],invokeTarget:[{required:!0,message:"调用目标字符串不能为空",trigger:"blur"}],cronExpression:[{required:!0,message:"cron执行表达式不能为空",trigger:"change"}]}}),{form:n,queryParams:c,rules:pe}=ze(xe);_({env:[{required:!0,message:"运行环境不能为空",trigger:"blur"}]});function O(){F.value=!0,Ze(c.value).then(r=>{Z.value=r.rows,W.value=r.total,F.value=!1})}function Ce(){F.value=!0,he(c.value).then(r=>{console.log(r)}).finally(()=>{F.value=!1})}function Se(r,o){return m.selectDictLabel(S.value,r.jobGroup)}function Ne(r,o){return m.selectDictLabel($.value,r.jobExecutor)}function fe(){N.value=!1,de()}function de(){n.value={jobId:void 0,jobName:void 0,jobGroup:"sqlalchemy",jobExecutor:"default",invokeTarget:"module_task.scheduler_qtr.job_run_test",cronExpression:"0 0 0 1 1 ?",misfirePolicy:"2",concurrent:"1",status:"0",jobArgs:"",jobKwargs:""},m.resetForm("jobRef")}function ie(){c.value.pageNum=1,O()}function Te(){m.resetForm("queryRef"),ie()}function Ue(r){J.value=r.map(o=>o.jobId),H.value=r.length!=1,K.value=!r.length}function qe(r){let o=r.status==="0"?"启用":"停用";m.$modal.confirm('确认要"'+o+'""'+r.jobName+'"任务吗?').then(function(){return el(r.jobId,r.status)}).then(()=>{m.$modal.msgSuccess(o+"成功")}).catch(function(){r.status=r.status==="0"?"1":"0"})}function Ee(r){m.$modal.confirm('确认要立即执行一次"'+r.jobName+'"任务吗?').then(function(){return ll(r.jobId,r.jobGroup)}).then(()=>{m.$modal.msgSuccess("执行成功")}).catch(()=>{})}function Ie(r){we(r.jobId).then(o=>{n.value=o.data,P.value=!0})}function me(){T.value=n.value.cronExpression,D.value=!0}function $e(r){n.value.cronExpression=r}function be(r){const o=r.jobId||0;k.push("/qtr/qtr-job-log/index/"+o)}function Je(){de(),N.value=!0,B.value="添加任务"}function ve(r){de();const o=r.jobId||J.value;we(o).then(V=>{n.value=V.data,N.value=!0,B.value="修改任务"})}function _e(){m.$refs.jobRef.validate(r=>{r&&(n.value.jobId!=null?ol(n.value).then(o=>{m.$modal.msgSuccess("修改成功"),N.value=!1,O()}):tl(n.value).then(o=>{m.$modal.msgSuccess("新增成功"),N.value=!1,O()}))})}function Re(r){al({jobId:r.jobId}).then(o=>{Ve.success("完成停止")}).catch(o=>{console.log(o),Ve.error("停止异常")})}function ge(r){const o=r.jobId||J.value;m.$modal.confirm('是否确认删除定时任务编号为"'+o+'"的数据项?').then(function(){return nl(o)}).then(()=>{O(),m.$modal.msgSuccess("删除成功")}).catch(()=>{})}function Ke(){m.download("qtr/job/export",{...c.value},`job_${new Date().getTime()}.xlsx`)}function Pe(r){n.value.jobKwargs=r?JSON.stringify(r):""}return O(),(r,o)=>{const V=f("el-input"),i=f("el-form-item"),ee=f("el-option"),le=f("el-select"),b=f("el-button"),oe=f("el-form"),p=f("el-col"),De=f("right-toolbar"),te=f("el-row"),I=f("el-table-column"),ce=f("dict-tag"),Oe=f("el-switch"),G=f("el-tooltip"),Ge=f("el-table"),Ae=f("pagination"),ye=f("el-radio"),L=f("el-radio-group"),U=f("el-radio-button"),ae=f("el-dialog"),Fe=f("question-filled"),Be=f("el-icon"),C=ke("hasPermi"),Le=ke("loading");return d(),g("div",_l,[y(e(oe,{model:t(c),ref:"queryRef",inline:!0},{default:l(()=>[e(i,{label:"任务名称",prop:"jobName"},{default:l(()=>[e(V,{modelValue:t(c).jobName,"onUpdate:modelValue":o[0]||(o[0]=a=>t(c).jobName=a),placeholder:"请输入任务名称",clearable:"",style:{width:"200px"},onKeyup:He(ie,["enter"])},null,8,["modelValue"])]),_:1}),e(i,{label:"任务组名",prop:"jobGroup"},{default:l(()=>[e(le,{modelValue:t(c).jobGroup,"onUpdate:modelValue":o[1]||(o[1]=a=>t(c).jobGroup=a),placeholder:"请选择任务组名",clearable:"",style:{width:"200px"}},{default:l(()=>[(d(!0),g(A,null,M(t(S),a=>(d(),v(ee,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"任务状态",prop:"status"},{default:l(()=>[e(le,{modelValue:t(c).status,"onUpdate:modelValue":o[2]||(o[2]=a=>t(c).status=a),placeholder:"请选择任务状态",clearable:"",style:{width:"200px"}},{default:l(()=>[(d(!0),g(A,null,M(t(E),a=>(d(),v(ee,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(i,null,{default:l(()=>[e(b,{type:"primary",icon:"Search",onClick:ie},{default:l(()=>o[30]||(o[30]=[u("搜索")])),_:1}),y(e(b,{type:"warning",icon:"Search",onClick:Ce,title:"显示scheduler加载的任务"},{default:l(()=>o[31]||(o[31]=[u("搜索 ")])),_:1},512),[[ne,!1]]),e(b,{icon:"Refresh",onClick:Te},{default:l(()=>o[32]||(o[32]=[u("重置")])),_:1})]),_:1})]),_:1},8,["model"]),[[ne,t(s)]]),e(te,{gutter:10,class:"mb8"},{default:l(()=>[e(p,{span:1.5},{default:l(()=>[y((d(),v(b,{type:"primary",plain:"",icon:"Plus",onClick:Je},{default:l(()=>o[33]||(o[33]=[u("新增 ")])),_:1})),[[C,["qtr:job:add"]]])]),_:1}),e(p,{span:1.5},{default:l(()=>[y((d(),v(b,{type:"success",plain:"",icon:"Edit",disabled:t(H),onClick:ve},{default:l(()=>o[34]||(o[34]=[u("修改 ")])),_:1},8,["disabled"])),[[C,["qtr:job:edit"]]])]),_:1}),e(p,{span:1.5},{default:l(()=>[y((d(),v(b,{type:"danger",plain:"",icon:"Delete",disabled:t(K),onClick:ge},{default:l(()=>o[35]||(o[35]=[u("删除 ")])),_:1},8,["disabled"])),[[C,["qtr:job:remove"]]])]),_:1}),e(p,{span:1.5},{default:l(()=>[y((d(),v(b,{type:"warning",plain:"",icon:"Download",onClick:Ke},{default:l(()=>o[36]||(o[36]=[u("导出 ")])),_:1})),[[C,["qtr:job:export"]]])]),_:1}),e(p,{span:1.5},{default:l(()=>[y((d(),v(b,{type:"info",plain:"",icon:"Operation",onClick:be},{default:l(()=>o[37]||(o[37]=[u("日志 ")])),_:1})),[[C,["qtr:job:query"]]])]),_:1}),e(De,{showSearch:t(s),"onUpdate:showSearch":o[3]||(o[3]=a=>q(s)?s.value=a:null),onQueryTable:O},null,8,["showSearch"])]),_:1}),y((d(),v(Ge,{data:t(Z),onSelectionChange:Ue},{default:l(()=>[e(I,{type:"selection",width:"55",align:"center"}),e(I,{label:"任务编号",width:"100",align:"center",prop:"jobId"}),e(I,{label:"任务名称",align:"center",prop:"jobName","show-overflow-tooltip":!0}),e(I,{label:"任务组名",align:"center",prop:"jobGroup"},{default:l(a=>[e(ce,{options:t(S),value:a.row.jobGroup},null,8,["options","value"])]),_:1}),e(I,{label:"调用目标字符串",align:"center",prop:"invokeTarget","show-overflow-tooltip":!0}),e(I,{label:"cron执行表达式",align:"center",prop:"cronExpression","show-overflow-tooltip":!0}),e(I,{prop:"status",label:"执行状态",align:"center",width:"70"},{default:l(a=>[e(ce,{options:t(re),value:a.row.runStatus},null,8,["options","value"])]),_:1}),e(I,{label:"状态",align:"center"},{default:l(a=>[e(Oe,{modelValue:a.row.status,"onUpdate:modelValue":R=>a.row.status=R,"active-value":"0","inactive-value":"1",onChange:R=>qe(a.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(I,{label:"操作",align:"center",width:"200","class-name":"small-padding fixed-width"},{default:l(a=>[e(G,{content:"停止进行中的任务",placement:"top"},{default:l(()=>[y(e(b,{link:"",type:"danger",icon:"SwitchButton",onClick:R=>Re(a.row)},null,8,["onClick"]),[[C,["qtr:job:edit"]],[ne,!1]])]),_:2},1024),e(G,{content:"修改",placement:"top"},{default:l(()=>[y(e(b,{link:"",type:"primary",icon:"Edit",onClick:R=>ve(a.row)},null,8,["onClick"]),[[C,["qtr:job:edit"]]])]),_:2},1024),e(G,{content:"删除",placement:"top"},{default:l(()=>[y(e(b,{link:"",type:"primary",icon:"Delete",onClick:R=>ge(a.row)},null,8,["onClick"]),[[C,["qtr:job:remove"]]])]),_:2},1024),e(G,{content:"执行一次",placement:"top"},{default:l(()=>[y(e(b,{link:"",type:"primary",icon:"CaretRight",onClick:R=>Ee(a.row)},null,8,["onClick"]),[[C,["qtr:job:changeStatus"]]])]),_:2},1024),e(G,{content:"任务详细",placement:"top"},{default:l(()=>[y(e(b,{link:"",type:"primary",icon:"View",onClick:R=>Ie(a.row)},null,8,["onClick"]),[[C,["qtr:job:query"]]])]),_:2},1024),e(G,{content:"调度日志",placement:"top"},{default:l(()=>[y(e(b,{link:"",type:"primary",icon:"Operation",onClick:R=>be(a.row)},null,8,["onClick"]),[[C,["qtr:job:query"]]])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Le,t(F)]]),y(e(Ae,{total:t(W),page:t(c).pageNum,"onUpdate:page":o[4]||(o[4]=a=>t(c).pageNum=a),limit:t(c).pageSize,"onUpdate:limit":o[5]||(o[5]=a=>t(c).pageSize=a),onPagination:O},null,8,["total","page","limit"]),[[ne,t(W)>0]]),e(ae,{title:t(B),modelValue:t(N),"onUpdate:modelValue":o[14]||(o[14]=a=>q(N)?N.value=a:null),width:"820px","append-to-body":""},{footer:l(()=>[x("div",gl,[e(b,{type:"primary",onClick:_e},{default:l(()=>o[44]||(o[44]=[u("确 定")])),_:1}),e(b,{onClick:fe},{default:l(()=>o[45]||(o[45]=[u("取 消")])),_:1})])]),default:l(()=>[e(oe,{ref:"jobRef",model:t(n),rules:t(pe),"label-width":"120px"},{default:l(()=>[e(te,null,{default:l(()=>[e(p,{span:24},{default:l(()=>[e(i,{label:"任务名称",prop:"jobName"},{default:l(()=>[e(V,{modelValue:t(n).jobName,"onUpdate:modelValue":o[6]||(o[6]=a=>t(n).jobName=a),placeholder:"请输入任务名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{span:24},{default:l(()=>[e(i,{label:"测试数据",prop:"testData"},{default:l(()=>[e(vl,{"run-ids":t(X),"onUpdate:runIds":o[7]||(o[7]=a=>q(X)?X.value=a:null),"run-type":t(h),"onUpdate:runType":o[8]||(o[8]=a=>q(h)?h.value=a:null)},null,8,["run-ids","run-type"])]),_:1})]),_:1}),e(p,{span:24},{default:l(()=>[e(Ye,{"label-width":"120px","config-data":t(se),"onUpdate:configData":o[9]||(o[9]=a=>q(se)?se.value=a:null),onUpdate:Pe},null,8,["config-data"])]),_:1}),e(p,{span:24},{default:l(()=>[e(i,{label:"cron表达式",prop:"cronExpression"},{default:l(()=>[e(V,{modelValue:t(n).cronExpression,"onUpdate:modelValue":o[10]||(o[10]=a=>t(n).cronExpression=a),placeholder:"请输入cron执行表达式"},{append:l(()=>[e(b,{type:"primary",onClick:me},{default:l(()=>o[38]||(o[38]=[u(" 生成表达式 "),x("i",{class:"el-icon-time el-icon--right"},null,-1)])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(n).jobId!==void 0?(d(),v(p,{key:0,span:24},{default:l(()=>[e(i,{label:"状态"},{default:l(()=>[e(L,{modelValue:t(n).status,"onUpdate:modelValue":o[11]||(o[11]=a=>t(n).status=a)},{default:l(()=>[(d(!0),g(A,null,M(t(E),a=>(d(),v(ye,{key:a.value,value:a.value},{default:l(()=>[u(w(a.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):Q("",!0),e(p,{span:12},{default:l(()=>[e(i,{label:"执行策略",prop:"misfirePolicy"},{default:l(()=>[e(L,{modelValue:t(n).misfirePolicy,"onUpdate:modelValue":o[12]||(o[12]=a=>t(n).misfirePolicy=a)},{default:l(()=>[e(U,{value:"1"},{default:l(()=>o[39]||(o[39]=[u("立即执行")])),_:1}),e(U,{value:"2"},{default:l(()=>o[40]||(o[40]=[u("执行一次")])),_:1}),e(U,{value:"3"},{default:l(()=>o[41]||(o[41]=[u("放弃执行")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(p,{span:12},{default:l(()=>[e(i,{label:"是否并发",prop:"concurrent"},{default:l(()=>[e(L,{modelValue:t(n).concurrent,"onUpdate:modelValue":o[13]||(o[13]=a=>t(n).concurrent=a)},{default:l(()=>[e(U,{value:"0"},{default:l(()=>o[42]||(o[42]=[u("允许")])),_:1}),e(U,{value:"1"},{default:l(()=>o[43]||(o[43]=[u("禁止")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"]),e(ae,{title:t(B),modelValue:t(z),"onUpdate:modelValue":o[25]||(o[25]=a=>q(z)?z.value=a:null),width:"820px","append-to-body":""},{footer:l(()=>[x("div",cl,[e(b,{type:"primary",onClick:_e},{default:l(()=>o[54]||(o[54]=[u("确 定")])),_:1}),e(b,{onClick:fe},{default:l(()=>o[55]||(o[55]=[u("取 消")])),_:1})])]),default:l(()=>[e(oe,{ref:"jobRef",model:t(n),rules:t(pe),"label-width":"120px"},{default:l(()=>[e(te,null,{default:l(()=>[e(p,{span:24},{default:l(()=>[e(i,{label:"任务名称",prop:"jobName"},{default:l(()=>[e(V,{modelValue:t(n).jobName,"onUpdate:modelValue":o[15]||(o[15]=a=>t(n).jobName=a),placeholder:"请输入任务名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{span:12},{default:l(()=>[e(i,{label:"任务分组",prop:"jobGroup"},{default:l(()=>[e(le,{modelValue:t(n).jobGroup,"onUpdate:modelValue":o[16]||(o[16]=a=>t(n).jobGroup=a),placeholder:"请选择"},{default:l(()=>[(d(!0),g(A,null,M(t(S),a=>(d(),v(ee,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(p,{span:12},{default:l(()=>[e(i,{label:"任务执行器",prop:"jobGroup"},{default:l(()=>[e(le,{modelValue:t(n).jobExecutor,"onUpdate:modelValue":o[17]||(o[17]=a=>t(n).jobExecutor=a),placeholder:"请选择任务执行器"},{default:l(()=>[(d(!0),g(A,null,M(t($),a=>(d(),v(ee,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(p,{span:24},{default:l(()=>[e(i,{prop:"invokeTarget"},{label:l(()=>[x("span",null,[o[47]||(o[47]=u(" 调用方法 ")),e(G,{placement:"top"},{content:l(()=>o[46]||(o[46]=[x("div",null,[u(" Bean调用示例：ryTask.ryParams('ry') "),x("br"),u("Class类调用示例：com.ruoyi.quartz.task.RyTask.ryParams('ry') "),x("br"),u("参数说明：支持字符串，布尔类型，长整型，浮点型，整型 ")],-1)])),default:l(()=>[e(Be,null,{default:l(()=>[e(Fe)]),_:1})]),_:1})])]),default:l(()=>[e(V,{modelValue:t(n).invokeTarget,"onUpdate:modelValue":o[18]||(o[18]=a=>t(n).invokeTarget=a),placeholder:"请输入调用目标字符串"},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{span:24},{default:l(()=>[e(i,{label:"位置参数",prop:"jobArgs"},{default:l(()=>[e(V,{modelValue:t(n).jobArgs,"onUpdate:modelValue":o[19]||(o[19]=a=>t(n).jobArgs=a),placeholder:"请输入位置参数"},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{span:24},{default:l(()=>[e(i,{label:"关键字参数",prop:"jobKwargs"},{default:l(()=>[e(rl,{content:t(n).jobKwargs,"onUpdate:content":o[20]||(o[20]=a=>t(n).jobKwargs=a),lang:"json",themes:"monokai",height:"300px",width:"670px",placeholder:"请输入关键字参数"},null,8,["content"])]),_:1})]),_:1}),e(p,{span:24},{default:l(()=>[e(i,{label:"cron表达式",prop:"cronExpression"},{default:l(()=>[e(V,{modelValue:t(n).cronExpression,"onUpdate:modelValue":o[21]||(o[21]=a=>t(n).cronExpression=a),placeholder:"请输入cron执行表达式"},{append:l(()=>[e(b,{type:"primary",onClick:me},{default:l(()=>o[48]||(o[48]=[u(" 生成表达式 "),x("i",{class:"el-icon-time el-icon--right"},null,-1)])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(n).jobId!==void 0?(d(),v(p,{key:0,span:24},{default:l(()=>[e(i,{label:"状态"},{default:l(()=>[e(L,{modelValue:t(n).status,"onUpdate:modelValue":o[22]||(o[22]=a=>t(n).status=a)},{default:l(()=>[(d(!0),g(A,null,M(t(E),a=>(d(),v(ye,{key:a.value,value:a.value},{default:l(()=>[u(w(a.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):Q("",!0),e(p,{span:12},{default:l(()=>[e(i,{label:"执行策略",prop:"misfirePolicy"},{default:l(()=>[e(L,{modelValue:t(n).misfirePolicy,"onUpdate:modelValue":o[23]||(o[23]=a=>t(n).misfirePolicy=a)},{default:l(()=>[e(U,{value:"1"},{default:l(()=>o[49]||(o[49]=[u("立即执行")])),_:1}),e(U,{value:"2"},{default:l(()=>o[50]||(o[50]=[u("执行一次")])),_:1}),e(U,{value:"3"},{default:l(()=>o[51]||(o[51]=[u("放弃执行")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(p,{span:12},{default:l(()=>[e(i,{label:"是否并发",prop:"concurrent"},{default:l(()=>[e(L,{modelValue:t(n).concurrent,"onUpdate:modelValue":o[24]||(o[24]=a=>t(n).concurrent=a)},{default:l(()=>[e(U,{value:"0"},{default:l(()=>o[52]||(o[52]=[u("允许")])),_:1}),e(U,{value:"1"},{default:l(()=>o[53]||(o[53]=[u("禁止")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"]),e(ae,{title:"Cron表达式生成器",modelValue:t(D),"onUpdate:modelValue":o[27]||(o[27]=a=>q(D)?D.value=a:null),"append-to-body":"","destroy-on-close":""},{default:l(()=>[e(ul,{ref:"crontabRef",onHide:o[26]||(o[26]=a=>D.value=!1),onFill:$e,expression:t(T)},null,8,["expression"])]),_:1},8,["modelValue"]),e(ae,{title:"任务详细",modelValue:t(P),"onUpdate:modelValue":o[29]||(o[29]=a=>q(P)?P.value=a:null),width:"700px","append-to-body":""},{footer:l(()=>[x("div",Nl,[e(b,{onClick:o[28]||(o[28]=a=>P.value=!1)},{default:l(()=>o[56]||(o[56]=[u("关 闭")])),_:1})])]),default:l(()=>[e(oe,{model:t(n),"label-width":"120px"},{default:l(()=>[e(te,null,{default:l(()=>[e(p,{span:12},{default:l(()=>[e(i,{label:"任务编号："},{default:l(()=>[u(w(t(n).jobId),1)]),_:1}),e(i,{label:"任务名称："},{default:l(()=>[u(w(t(n).jobName),1)]),_:1})]),_:1}),e(p,{span:12},{default:l(()=>[e(i,{label:"任务分组："},{default:l(()=>[u(w(Se(t(n))),1)]),_:1}),e(i,{label:"创建时间："},{default:l(()=>[u(w(r.parseTime(t(n).createTime)),1)]),_:1})]),_:1}),e(p,{span:12},{default:l(()=>[e(i,{label:"cron表达式："},{default:l(()=>[u(w(t(n).cronExpression),1)]),_:1})]),_:1}),e(p,{span:12},{default:l(()=>[e(i,{label:"下次执行时间："},{default:l(()=>[u(w(r.parseTime(t(n).nextValidTime)),1)]),_:1})]),_:1}),e(p,{span:12},{default:l(()=>[e(i,{label:"任务执行器："},{default:l(()=>[u(w(Ne(t(n))),1)]),_:1})]),_:1}),e(p,{span:24},{default:l(()=>[e(i,{label:"调用目标方法："},{default:l(()=>[u(w(t(n).invokeTarget),1)]),_:1})]),_:1}),e(p,{span:24},{default:l(()=>[e(i,{label:"位置参数："},{default:l(()=>[u(w(t(n).jobArgs),1)]),_:1})]),_:1}),e(p,{span:24},{default:l(()=>[e(i,{label:"关键字参数："},{default:l(()=>[u(w(t(n).jobKwargs),1)]),_:1})]),_:1}),e(p,{span:12},{default:l(()=>[e(i,{label:"任务状态："},{default:l(()=>[t(n).status==0?(d(),g("div",yl,"正常")):t(n).status==1?(d(),g("div",jl,"暂停")):Q("",!0)]),_:1})]),_:1}),e(p,{span:12},{default:l(()=>[e(i,{label:"是否并发："},{default:l(()=>[t(n).concurrent==0?(d(),g("div",kl,"允许")):t(n).concurrent==1?(d(),g("div",Vl,"禁止")):Q("",!0)]),_:1})]),_:1}),e(p,{span:12},{default:l(()=>[e(i,{label:"执行策略："},{default:l(()=>[t(n).misfirePolicy=="0"?(d(),g("div",wl,"默认策略")):t(n).misfirePolicy=="1"?(d(),g("div",xl,"立即执行")):t(n).misfirePolicy=="2"?(d(),g("div",Cl,"执行一次")):t(n).misfirePolicy=="3"?(d(),g("div",Sl,"放弃执行")):Q("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{Xl as default};
//# sourceMappingURL=index.DwFkErlX.js.map
