{"version":3,"file":"index.zjYwmVG1.js","sources":["../../../src/api/monitor/server.js","../../../src/views/monitor/server/index.vue"],"sourcesContent":["import request from '@/utils/request'\r\n\r\n// 获取服务信息\r\nexport function getServer() {\r\n  return request({\r\n    url: '/monitor/server',\r\n    method: 'get'\r\n  })\r\n}","<template>\r\n  <div class=\"app-container\">\r\n    <el-row>\r\n      <el-col :span=\"12\" class=\"card-box\">\r\n        <el-card>\r\n          <template #header><Cpu style=\"width: 1em; height: 1em; vertical-align: middle;\" /> <span style=\"vertical-align: middle;\">CPU</span></template>\r\n          <div class=\"el-table el-table--enable-row-hover el-table--medium\">\r\n            <table cellspacing=\"0\" style=\"width: 100%;\">\r\n              <thead>\r\n                <tr>\r\n                  <th class=\"el-table__cell is-leaf\"><div class=\"cell\">属性</div></th>\r\n                  <th class=\"el-table__cell is-leaf\"><div class=\"cell\">值</div></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">核心数</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.cpu\">{{ server.cpu.cpuNum }}</div></td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">用户使用率</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.cpu\">{{ server.cpu.used }}%</div></td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">系统使用率</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.cpu\">{{ server.cpu.sys }}%</div></td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">当前空闲率</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.cpu\">{{ server.cpu.free }}%</div></td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <el-col :span=\"12\" class=\"card-box\">\r\n        <el-card>\r\n          <template #header><Tickets style=\"width: 1em; height: 1em; vertical-align: middle;\" /> <span style=\"vertical-align: middle;\">内存</span></template>\r\n          <div class=\"el-table el-table--enable-row-hover el-table--medium\">\r\n            <table cellspacing=\"0\" style=\"width: 100%;\">\r\n              <thead>\r\n                <tr>\r\n                  <th class=\"el-table__cell is-leaf\"><div class=\"cell\">属性</div></th>\r\n                  <th class=\"el-table__cell is-leaf\"><div class=\"cell\">内存</div></th>\r\n                  <th class=\"el-table__cell is-leaf\"><div class=\"cell\">Python</div></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">总内存</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.mem\">{{ server.mem.total }}</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.py\">{{ server.py.total }}</div></td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">已用内存</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.mem\">{{ server.mem.used}}</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.py\">{{ server.py.used}}</div></td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">剩余内存</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.mem\">{{ server.mem.free }}</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.py\">{{ server.py.free }}</div></td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">使用率</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.mem\" :class=\"{'text-danger': server.mem.usage > 80}\">{{ server.mem.usage }}%</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.py\" :class=\"{'text-danger': server.py.usage > 80}\">{{ server.py.usage }}%</div></td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <el-col :span=\"24\" class=\"card-box\">\r\n        <el-card>\r\n          <template #header><Monitor style=\"width: 1em; height: 1em; vertical-align: middle;\" /> <span style=\"vertical-align: middle;\">服务器信息</span></template>\r\n          <div class=\"el-table el-table--enable-row-hover el-table--medium\">\r\n            <table cellspacing=\"0\" style=\"width: 100%;\">\r\n              <tbody>\r\n                <tr>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">服务器名称</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.sys\">{{ server.sys.computerName }}</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">操作系统</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.sys\">{{ server.sys.osName }}</div></td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">服务器IP</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.sys\">{{ server.sys.computerIp }}</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">系统架构</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.sys\">{{ server.sys.osArch }}</div></td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <el-col :span=\"24\" class=\"card-box\">\r\n        <el-card>\r\n          <template #header><CoffeeCup style=\"width: 1em; height: 1em; vertical-align: middle;\" /> <span style=\"vertical-align: middle;\">Python解释器信息</span></template>\r\n          <div class=\"el-table el-table--enable-row-hover el-table--medium\">\r\n            <table cellspacing=\"0\" style=\"width: 100%;table-layout:fixed;\">\r\n              <tbody>\r\n                <tr>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">Python名称</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.py\">{{ server.py.name }}</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">Python版本</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.py\">{{ server.py.version }}</div></td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">启动时间</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.py\">{{ server.py.startTime }}</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">运行时长</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.py\">{{ server.py.runTime }}</div></td>\r\n                </tr>\r\n                <tr>\r\n                  <td colspan=\"1\" class=\"el-table__cell is-leaf\"><div class=\"cell\">安装路径</div></td>\r\n                  <td colspan=\"3\" class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.py\">{{ server.py.home }}</div></td>\r\n                </tr>\r\n                <tr>\r\n                  <td colspan=\"1\" class=\"el-table__cell is-leaf\"><div class=\"cell\">项目路径</div></td>\r\n                  <td colspan=\"3\" class=\"el-table__cell is-leaf\"><div class=\"cell\" v-if=\"server.sys\">{{ server.sys.userDir }}</div></td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <el-col :span=\"24\" class=\"card-box\">\r\n        <el-card>\r\n          <template #header><MessageBox style=\"width: 1em; height: 1em; vertical-align: middle;\" /> <span style=\"vertical-align: middle;\">磁盘状态</span></template>\r\n          <div class=\"el-table el-table--enable-row-hover el-table--medium\">\r\n            <table cellspacing=\"0\" style=\"width: 100%;\">\r\n              <thead>\r\n                <tr>\r\n                  <th class=\"el-table__cell el-table__cell is-leaf\"><div class=\"cell\">盘符路径</div></th>\r\n                  <th class=\"el-table__cell is-leaf\"><div class=\"cell\">文件系统</div></th>\r\n                  <th class=\"el-table__cell is-leaf\"><div class=\"cell\">盘符名称</div></th>\r\n                  <th class=\"el-table__cell is-leaf\"><div class=\"cell\">总大小</div></th>\r\n                  <th class=\"el-table__cell is-leaf\"><div class=\"cell\">可用大小</div></th>\r\n                  <th class=\"el-table__cell is-leaf\"><div class=\"cell\">已用大小</div></th>\r\n                  <th class=\"el-table__cell is-leaf\"><div class=\"cell\">已用百分比</div></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody v-if=\"server.sysFiles\">\r\n                <tr v-for=\"(sysFile, index) in server.sysFiles\" :key=\"index\">\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">{{ sysFile.dirName }}</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">{{ sysFile.sysTypeName }}</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">{{ sysFile.typeName }}</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">{{ sysFile.total }}</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">{{ sysFile.free }}</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\">{{ sysFile.used }}</div></td>\r\n                  <td class=\"el-table__cell is-leaf\"><div class=\"cell\" :class=\"{'text-danger': sysFile.usage > 80}\">{{ sysFile.usage }}%</div></td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { getServer } from '@/api/monitor/server'\r\n\r\nconst server = ref([]);\r\nconst { proxy } = getCurrentInstance();\r\n\r\nfunction getList() {\r\n  proxy.$modal.loading(\"正在加载服务监控数据，请稍候！\");\r\n  getServer().then(response => {\r\n    server.value = response.data;\r\n    proxy.$modal.closeLoading();\r\n  });\r\n}\r\n\r\ngetList();\r\n</script>\r\n"],"names":["getServer","request","server","ref","proxy","getCurrentInstance","getList","response"],"mappings":"4IAGO,SAASA,GAAY,CAC1B,OAAOC,EAAQ,CACb,IAAK,kBACL,OAAQ,KACZ,CAAG,CACH,+tECkKA,MAAMC,EAASC,EAAI,CAAA,CAAE,EACf,CAAE,MAAAC,CAAK,EAAKC,IAElB,SAASC,GAAU,CACjBF,EAAM,OAAO,QAAQ,iBAAiB,EACtCJ,EAAW,EAAC,KAAKO,GAAY,CAC3BL,EAAO,MAAQK,EAAS,KACxBH,EAAM,OAAO,cACjB,CAAG,CACH,CAEA,OAAAE"}