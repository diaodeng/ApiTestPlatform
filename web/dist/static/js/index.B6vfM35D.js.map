{"version":3,"file":"index.B6vfM35D.js","sources":["../../../src/components/qtr/project-data.vue","../../../src/components/qtr/case-data.vue","../../../src/components/qtr/module-data.vue","../../../src/components/qtr/config-suite-data-dialog.vue","../../../src/components/qtr/suite-detail-dialog.vue","../../../src/views/qtr/suite/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-form :model=\"queryParams\" ref=\"queryRef\" :inline=\"true\" v-show=\"showSearch\">\r\n      <el-form-item label=\"项目名称\" prop=\"projectName\">\r\n        <el-input\r\n            v-model=\"queryParams.projectName\"\r\n            placeholder=\"请输入项目名称\"\r\n            clearable\r\n            style=\"width: 200px\"\r\n            @keyup.enter=\"handleQuery\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item label=\"状态\" prop=\"status\">\r\n        <el-select v-model=\"queryParams.status\" placeholder=\"项目状态\" clearable style=\"width: 200px\">\r\n          <el-option\r\n              v-for=\"dict in qtr_data_status\"\r\n              :key=\"dict.value * 1\"\r\n              :label=\"dict.label\"\r\n              :value=\"dict.value * 1\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" icon=\"Search\" @click=\"handleQuery\">搜索</el-button>\r\n        <el-button icon=\"Refresh\" @click=\"resetQuery\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <el-row :gutter=\"10\" class=\"mb8\">\r\n      <el-col :span=\"1.5\">\r\n        <el-button type=\"primary\" @click=\"saveConfigSuite\">保存</el-button>\r\n      </el-col>\r\n      <right-toolbar v-model:showSearch=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\r\n    </el-row>\r\n\r\n    <el-table\r\n        border\r\n        v-if=\"refreshTable\"\r\n        v-loading=\"loading\"\r\n        :data=\"projectList\"\r\n        style=\"width: 100%\"\r\n        height=\"350\"\r\n        row-key=\"projectId\"\r\n        :default-expand-all=\"isExpandAll\"\r\n        @selection-change=\"handleSelectionChange\"\r\n    >\r\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\"/>\r\n      <el-table-column prop=\"projectId\" label=\"ID\" width=\"150\"></el-table-column>\r\n      <el-table-column prop=\"projectName\" align=\"center\" label=\"项目名称\" width=\"200\"></el-table-column>\r\n      <el-table-column prop=\"testUser\" label=\"测试负责人\" align=\"center\" width=\"120\"></el-table-column>\r\n      <el-table-column prop=\"status\" label=\"状态\" align=\"center\" width=\"100\">\r\n        <template #default=\"scope\">\r\n          <dict-tag :options=\"qtr_data_status\" :value=\"scope.row.status + ''\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"创建时间\" align=\"center\" prop=\"createTime\" class-name=\"small-padding fixed-width\">\r\n        <template #default=\"scope\">\r\n          <span>{{ parseTime(scope.row.createTime) }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"更新时间\" align=\"center\" prop=\"updateTime\" class-name=\"small-padding fixed-width\">\r\n        <template #default=\"scope\">\r\n          <span>{{ parseTime(scope.row.updateTime) }}</span>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script setup name=\"project\">\r\nimport {ElMessageBox} from \"element-plus\";\r\nimport {listProject, getProject, delProject, addProject, updateProject} from \"@/api/hrm/project.js\";\r\nimport {addSuiteDetail} from \"@/api/qtr/suite.js\";\r\n\r\nconst {proxy} = getCurrentInstance();\r\nconst {qtr_data_status} = proxy.useDict(\"qtr_data_status\");\r\n\r\nconst projectList = ref([]);\r\nconst open = ref(false);\r\nconst loading = ref(false);\r\nconst showSearch = ref(true);\r\nconst title = ref(\"\");\r\nconst isExpandAll = ref(true);\r\nconst refreshTable = ref(true);\r\n\r\nconst ids = ref([]);\r\nconst configSuiteId = defineModel(\"suiteId\");\r\nconst projectIds = ref([]);\r\n\r\nconst data = reactive({\r\n  form: {},\r\n  queryParams: {\r\n    projectName: undefined,\r\n    status: undefined,\r\n    isPage: false,\r\n    suiteId: configSuiteId,\r\n    dataType: 1\r\n  },\r\n  rules: {\r\n    projectName: [{required: true, message: \"项目名称不能为空\", trigger: \"blur\"}],\r\n    orderNum: [{required: true, message: \"显示排序不能为空\", trigger: \"blur\"}]\r\n  },\r\n});\r\n\r\nconst {queryParams, form, rules} = toRefs(data);\r\n\r\ndefineExpose({getList})\r\n\r\n/** 查询项目列表 */\r\nfunction getList() {\r\n  loading.value = true;\r\n  listProject(queryParams.value).then(response => {\r\n    projectList.value = response.data;\r\n    loading.value = false;\r\n  });\r\n}\r\n\r\n\r\n/** 多选框选中数据 */\r\nfunction handleSelectionChange(selection) {\r\n  ids.value = selection.map(item => item.projectId);\r\n  projectIds.value = ids.value;\r\n  multiple.value = !selection.length;\r\n}\r\n\r\n/** 表单重置 */\r\nfunction reset() {\r\n  form.value = {\r\n    projectId: undefined,\r\n    projectName: undefined,\r\n    orderNum: 0,\r\n    simpleDesc: undefined,\r\n    status: \"0\"\r\n  };\r\n  proxy.resetForm(\"projectRef\");\r\n}\r\n\r\n/** 搜索按钮操作 */\r\nfunction handleQuery() {\r\n  getList();\r\n}\r\n\r\n/** 重置按钮操作 */\r\nfunction resetQuery() {\r\n  proxy.resetForm(\"queryRef\");\r\n  handleQuery();\r\n}\r\n\r\n/** 展开/折叠操作 */\r\nfunction toggleExpandAll() {\r\n  refreshTable.value = false;\r\n  isExpandAll.value = !isExpandAll.value;\r\n  nextTick(() => {\r\n    refreshTable.value = true;\r\n  });\r\n}\r\n\r\n/** 保存套件配置 **/\r\nfunction saveConfigSuite(row) {\r\n  if (row && \"projectId\" in row && row.projectId){\r\n    projectIds.value = [row.projectId];\r\n  }\r\n  if (!projectIds.value || projectIds.value.length === 0) {\r\n    ElMessageBox.alert('请选择项目', \"提示！\", {type: \"warning\"});\r\n      return;\r\n  }\r\n  const data = {\r\n    \"suiteId\": configSuiteId.value,\r\n    \"dataIds\": projectIds.value,\r\n    \"dataType\": 1\r\n  }\r\n  addSuiteDetail(data).then(response => {\r\n    proxy.$modal.msgSuccess(\"新增成功\");\r\n    openProjectCaseDialog.value = false;\r\n  });\r\n}\r\n\r\n</script>\r\n","<template>\r\n  <div class=\"app-container\">\r\n  <el-form :model=\"queryParams\" ref=\"queryRef\" :inline=\"true\" v-show=\"showSearch\">\r\n    <el-form-item label=\"所属项目\" prop=\"projectId\">\r\n      <el-select v-model=\"queryParams.projectId\" placeholder=\"请选择\" @change=\"resetModule\" clearable\r\n                 style=\"width: 150px\">\r\n        <el-option\r\n            v-for=\"option in projectOptions\"\r\n            :key=\"option.projectId\"\r\n            :label=\"option.projectName\"\r\n            :value=\"option.projectId\">\r\n        </el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"所属模块\" prop=\"moduleId\">\r\n      <el-select v-model=\"queryParams.moduleId\" placeholder=\"请选择\" clearable style=\"width: 150px\">\r\n        <el-option\r\n            v-for=\"option in moduleOptions\"\r\n            :key=\"option.moduleId\"\r\n            :label=\"option.moduleName\"\r\n            :value=\"option.moduleId\">\r\n        </el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item :label=\"dataName+'ID'\" prop=\"caseId\">\r\n      <el-input\r\n          v-model=\"queryParams.caseId\"\r\n          :placeholder=\"'请输入'+dataName+'ID'\"\r\n          clearable\r\n          style=\"width: 200px\"\r\n          @keyup.enter=\"handleQuery\"\r\n      />\r\n    </el-form-item>\r\n    <el-form-item :label=\"dataName+'名称'\" prop=\"caseName\">\r\n      <el-input\r\n          v-model=\"queryParams.caseName\"\r\n          :placeholder=\"'请输入'+dataName+'名称'\"\r\n          clearable\r\n          style=\"width: 200px\"\r\n          @keyup.enter=\"handleQuery\"\r\n      />\r\n    </el-form-item>\r\n    <el-form-item label=\"状态\" prop=\"status\">\r\n      <el-select v-model=\"queryParams.status\" :placeholder=\"dataName+'状态'\" clearable style=\"width: 100px\">\r\n        <el-option\r\n            v-for=\"dict in sys_normal_disable\"\r\n            :key=\"dict.value * 1\"\r\n            :label=\"dict.label\"\r\n            :value=\"dict.value * 1\"\r\n        />\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item><el-checkbox v-model=\"onlySelf\" @change=\"handleQuery\">仅自己的数据</el-checkbox></el-form-item>\r\n    <el-form-item>\r\n      <el-button type=\"primary\" icon=\"Search\" @click=\"handleQuery\">搜索</el-button>\r\n      <el-button type=\"default\" icon=\"Refresh\" @click=\"resetQuery\">重置</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n  <el-row :gutter=\"10\" class=\"mb8\">\r\n    <el-col :span=\"1.5\">\r\n      <el-button type=\"primary\" @click=\"saveConfigSuite\">保存</el-button>\r\n    </el-col>\r\n    <right-toolbar v-model:showSearch=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\r\n  </el-row>\r\n  <el-table v-loading=\"loading\"\r\n            :data=\"caseList\"\r\n            style=\"width: 100%\"\r\n            height=\"350\"\r\n            @selection-change=\"handleSelectionChange\"\r\n            border\r\n            table-layout=\"fixed\"\r\n  >\r\n    <el-table-column type=\"selection\" width=\"55\" align=\"center\"/>\r\n    <el-table-column :label=\"dataName+'ID'\" prop=\"caseId\" width=\"150px\"/>\r\n    <el-table-column :label=\"dataName+'名称'\" prop=\"caseName\" width=\"auto\"/>\r\n    <el-table-column label=\"所属项目\" prop=\"projectName\">\r\n      <template #default=\"scope\">\r\n        <span>{{ nameOrGlob(scope.row.projectName) }}</span>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column label=\"所属模块\" prop=\"moduleName\">\r\n      <template #default=\"scope\">\r\n        <span>{{ nameOrGlob(scope.row.moduleName) }}</span>\r\n      </template>\r\n    </el-table-column>\r\n    <!--         <el-table-column label=\"用例排序\" align=\"center\" prop=\"sort\" />-->\r\n    <el-table-column label=\"状态\" align=\"center\" prop=\"status\" width=\"70px\">\r\n      <template #default=\"scope\">\r\n        <dict-tag :options=\"sys_normal_disable\" :value=\"scope.row.status + ''\"/>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column label=\"创建人\" align=\"center\" prop=\"createBy\"></el-table-column>\r\n    <el-table-column label=\"创建时间\" align=\"center\" prop=\"createTime\" class-name=\"small-padding fixed-width\" width=\"150px\">\r\n      <template #default=\"scope\">\r\n        <span>{{ parseTime(scope.row.createTime) }}</span>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column label=\"更新时间\" align=\"center\" prop=\"createTime\" class-name=\"small-padding fixed-width\" width=\"150px\">\r\n      <template #default=\"scope\">\r\n        <span>{{ parseTime(scope.row.updateTime) }}</span>\r\n      </template>\r\n    </el-table-column>\r\n\r\n  </el-table>\r\n  <pagination\r\n      v-show=\"total > 0\"\r\n      :total=\"total\"\r\n      v-model:page=\"queryParams.pageNum\"\r\n      v-model:limit=\"queryParams.pageSize\"\r\n      @pagination=\"getList\"\r\n  />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {initCaseFormData} from \"@/components/hrm/data-template.js\";\r\nimport {ElMessage, ElMessageBox} from \"element-plus\";\r\nimport {copyCase, delCase, getCase, listCase} from \"@/api/hrm/case.js\";\r\nimport {listProject} from \"@/api/hrm/project.js\";\r\nimport {selectModulList} from \"@/api/hrm/module.js\";\r\nimport {HrmDataTypeEnum} from \"@/components/hrm/enum.js\";\r\nimport {addSuiteDetail} from \"@/api/qtr/suite.js\";\r\n\r\nconst {proxy} = getCurrentInstance();\r\nconst {qtr_case_status} = proxy.useDict(\"qtr_case_status\");\r\nconst {sys_normal_disable} = proxy.useDict(\"sys_normal_disable\");\r\nconst {sys_request_method} = proxy.useDict(\"sys_request_method\");\r\nconst {hrm_data_type} = proxy.useDict(\"hrm_data_type\");\r\nconst configSuiteId = defineModel(\"suiteId\");\r\n\r\ndefineExpose({getList});\r\n\r\nconst props = defineProps({\r\n  dataType: {type: Number, default: HrmDataTypeEnum.case},\r\n  formRules: {\r\n    type: Object,\r\n    default: {\r\n      caseName: [{required: true, message: \"用例名称不能为空\", trigger: \"blur\"}],\r\n      projectId: [{required: true, message: \"所属项目不能为空\", trigger: \"blur\"}],\r\n      moduleId: [{required: true, message: \"所属模块不能为空\", trigger: \"blur\"}]\r\n    }\r\n  }\r\n});\r\n\r\nconst dataName = computed(() => {\r\n  return props.dataType === HrmDataTypeEnum.case ? \"用例\" : \"配置\";\r\n});\r\n\r\n\r\n\r\nprovide(\"hrm_data_type\", hrm_data_type);\r\nprovide('sys_normal_disable', sys_normal_disable);\r\nconst openProjectCaseDialog = defineModel(\"openProjectCaseDialog\");\r\nconst caseList = ref([]);\r\nconst projectOptions = ref([]);\r\nconst moduleOptions = ref([]);\r\nconst open = ref(false);\r\nconst loading = ref(false);\r\nconst showSearch = ref(true);\r\nconst ids = ref([]);\r\nconst single = ref(true);\r\nconst multiple = ref(true);\r\nconst total = ref(0);\r\nconst title = ref(\"\");\r\nconst onlySelf = ref(true);\r\n\r\nconst caseIds = ref([]);\r\n\r\nconst history = ref(false);\r\n\r\nconst queryParams = toRef({\r\n  pageNum: 1,\r\n  pageSize: 10,\r\n  type: props.dataType,\r\n  caseId: undefined,\r\n  suiteId: configSuiteId,\r\n  dataType: 3,\r\n  caseName: undefined,\r\n  projectId: undefined,\r\n  moduleId: undefined,\r\n  status: undefined,\r\n  onlySelf: onlySelf\r\n});\r\n\r\nconst form = ref(initCaseFormData);\r\n\r\nfunction nameOrGlob(val) {\r\n  return val ? val : \"全局\";\r\n\r\n}\r\n\r\n/** 查询用例列表 */\r\nfunction getList() {\r\n  loading.value = true;\r\n  listCase(queryParams.value).then(response => {\r\n    caseList.value = response.rows;\r\n    total.value = response.total;\r\n  }).finally(()=>{\r\n    loading.value = false;\r\n  });\r\n}\r\n\r\n/** 查询项目列表 */\r\nfunction getProjectSelect() {\r\n  listProject(null).then(response => {\r\n    projectOptions.value = response.data;\r\n  });\r\n}\r\n\r\n/** 查询模块列表 */\r\nfunction getModuleSelect() {\r\n  selectModulList(queryParams.value).then(response => {\r\n    moduleOptions.value = response.data;\r\n  });\r\n}\r\n\r\n\r\n/**重置查询条件所属模块下拉框*/\r\nfunction resetModule() {\r\n  queryParams.value.moduleId = undefined;\r\n  getModuleSelect();\r\n}\r\n\r\n\r\n/** 搜索按钮操作 */\r\nfunction handleQuery() {\r\n  queryParams.value.pageNum = 1;\r\n  getList();\r\n}\r\n\r\n/** 重置按钮操作 */\r\nfunction resetQuery() {\r\n  proxy.resetForm(\"queryRef\");\r\n  handleQuery();\r\n}\r\n\r\n/** 多选框选中数据 */\r\nfunction handleSelectionChange(selection) {\r\n  ids.value = selection.map(item => item.caseId);\r\n  caseIds.value = ids.value;\r\n  single.value = selection.length !== 1;\r\n  multiple.value = !selection.length;\r\n}\r\n\r\n/** 新增按钮操作 */\r\nfunction handleAdd() {\r\n  open.value = true;\r\n  title.value = \"添加\" + dataName.value;\r\n  form.value = JSON.parse(JSON.stringify(initCaseFormData));\r\n}\r\n\r\n/** 修改按钮操作 */\r\nfunction handleUpdate(row) {\r\n  const caseId = row.caseId || ids.value;\r\n  getCase(caseId).then(response => {\r\n    if (!response.data || Object.keys(response.data).length === 0) {\r\n      alert(\"未查到对应数据！\");\r\n      return;\r\n    }\r\n    form.value = response.data;\r\n    open.value = true;\r\n    title.value = \"修改\" + dataName.value;\r\n  });\r\n}\r\n\r\n/** 保存套件配置 **/\r\nfunction saveConfigSuite(row) {\r\n  if (row && \"caseId\" in row && row.caseId){\r\n    caseIds.value = [row.caseId];\r\n  }\r\n  if (!caseIds.value || caseIds.value.length === 0) {\r\n    ElMessageBox.alert('请选择用例', \"提示！\", {type: \"warning\"});\r\n      return;\r\n  }\r\n  const data = {\r\n    \"suiteId\": configSuiteId.value,\r\n    \"dataIds\": caseIds.value,\r\n    \"dataType\": 3\r\n  }\r\n  addSuiteDetail(data).then(response => {\r\n    proxy.$modal.msgSuccess(\"新增成功\");\r\n    openProjectCaseDialog.value = false;\r\n  });\r\n}\r\n\r\n/** 删除按钮操作 */\r\nfunction handleDelete(row) {\r\n  const caseIds = row.caseId || ids.value;\r\n  proxy.$modal.confirm('是否确认删除ID为\"' + caseIds + '\"的数据项？').then(function () {\r\n    return delCase(caseIds);\r\n  }).then(() => {\r\n    getList();\r\n    proxy.$modal.msgSuccess(\"删除成功\");\r\n  }).catch(() => {\r\n  });\r\n}\r\n\r\n/** 导出按钮操作 */\r\nfunction handleExport() {\r\n  proxy.download(\"hrm/case/export\", {\r\n    ...queryParams.value\r\n  }, `Case_${new Date().getTime()}.xlsx`);\r\n}\r\n\r\ngetProjectSelect();\r\n// getList();\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n","<template>\r\n  <div class=\"app-container\">\r\n    <el-form :model=\"queryParams\" ref=\"queryRef\" :inline=\"true\" v-show=\"showSearch\">\r\n      <el-form-item label=\"项目\" prop=\"projectId\">\r\n        <el-select v-model=\"queryParams.projectId\" placeholder=\"请选择\" clearable style=\"width: 150px\">\r\n          <el-option\r\n              v-for=\"option in projectOptions\"\r\n              :key=\"option.projectId\"\r\n              :label=\"option.projectName\"\r\n              :value=\"option.projectId\">\r\n          </el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"模块名称\" prop=\"moduleName\">\r\n        <el-input\r\n            v-model=\"queryParams.moduleName\"\r\n            placeholder=\"请输入模块名称\"\r\n            clearable\r\n            style=\"width: 200px\"\r\n            @keyup.enter=\"handleQuery\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item label=\"状态\" prop=\"status\">\r\n        <el-select v-model=\"queryParams.status\" placeholder=\"模块状态\" clearable style=\"width: 200px\">\r\n          <el-option\r\n              v-for=\"dict in qtr_data_status\"\r\n              :key=\"dict.value * 1\"\r\n              :label=\"dict.label\"\r\n              :value=\"dict.value * 1\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" icon=\"Search\" @click=\"handleQuery\">搜索</el-button>\r\n        <el-button icon=\"Refresh\" @click=\"resetQuery\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <el-row :gutter=\"10\" class=\"mb8\">\r\n      <el-col :span=\"1.5\">\r\n        <el-button type=\"primary\" @click=\"saveConfigSuite\">保存</el-button>\r\n      </el-col>\r\n      <right-toolbar v-model:showSearch=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\r\n    </el-row>\r\n\r\n    <el-table\r\n        border\r\n        v-loading=\"loading\"\r\n        :data=\"moduleList\"\r\n        style=\"width: 100%\"\r\n        height=\"350\"\r\n        @selection-change=\"handleSelectionChange\">\r\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\"/>\r\n      <el-table-column label=\"模块ID\" align=\"center\" prop=\"moduleId\"/>\r\n      <el-table-column label=\"模块名称\" align=\"center\" prop=\"moduleName\"/>\r\n      <el-table-column label=\"所属项目\" align=\"center\" :formatter=\"formatProject\"/>\r\n      <el-table-column label=\"测试人员\" align=\"center\" prop=\"testUser\"/>\r\n      <el-table-column label=\"模块排序\" align=\"center\" prop=\"sort\"/>\r\n      <el-table-column label=\"状态\" align=\"center\" prop=\"status\">\r\n        <template #default=\"scope\">\r\n          <dict-tag :options=\"qtr_data_status\" :value=\"scope.row.status + ''\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"创建时间\" align=\"center\" prop=\"createTime\" class-name=\"small-padding fixed-width\">\r\n        <template #default=\"scope\">\r\n          <span>{{ parseTime(scope.row.createTime) }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"更新时间\" align=\"center\" prop=\"createTime\" class-name=\"small-padding fixed-width\">\r\n        <template #default=\"scope\">\r\n          <span>{{ parseTime(scope.row.updateTime) }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"180\" align=\"center\" class-name=\"small-padding fixed-width\">\r\n        <template #default=\"scope\">\r\n          <el-button link type=\"primary\" icon=\"Edit\" @click=\"handleUpdate(scope.row)\" v-hasPermi=\"['hrm:module:edit']\">\r\n            修改\r\n          </el-button>\r\n          <el-button link type=\"primary\" icon=\"Delete\" @click=\"handleDelete(scope.row)\"\r\n                     v-hasPermi=\"['hrm:module:remove']\">删除\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <pagination\r\n        v-show=\"total > 0\"\r\n        :total=\"total\"\r\n        v-model:page=\"queryParams.pageNum\"\r\n        v-model:limit=\"queryParams.pageSize\"\r\n        @pagination=\"getList\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup name=\"Module\">\r\nimport {addModule, delModule, getModule, listModule, updateModule} from \"@/api/hrm/module\";\r\nimport {listProject} from \"@/api/hrm/project\";\r\nimport {ElMessageBox} from \"element-plus\";\r\nimport {addSuiteDetail} from \"@/api/qtr/suite.js\";\r\n\r\nconst {proxy} = getCurrentInstance();\r\nconst {qtr_data_status} = proxy.useDict(\"qtr_data_status\");\r\n\r\nconst moduleList = ref([]);\r\nconst projectOptions = ref([]);\r\nconst open = ref(false);\r\nconst loading = ref(false);\r\nconst showSearch = ref(true);\r\nconst ids = ref([]);\r\nconst single = ref(true);\r\nconst multiple = ref(true);\r\nconst total = ref(0);\r\nconst title = ref(\"\");\r\n\r\nconst runDialogShow = ref(false);\r\nconst runIds = ref([]);\r\nconst configSuiteId = defineModel(\"suiteId\");\r\nconst moduleIds = ref([]);\r\n\r\nconst data = reactive({\r\n  form: {\r\n    testUser: undefined\r\n  },\r\n  queryParams: {\r\n    pageNum: 1,\r\n    pageSize: 10,\r\n    suiteId: configSuiteId,\r\n    dataType: 2,\r\n    projectId: undefined,\r\n    moduleName: undefined,\r\n    status: undefined\r\n  },\r\n  rules: {\r\n    moduleName: [{required: true, message: \"模块名称不能为空\", trigger: \"blur\"}],\r\n    projectId: [{required: true, message: \"所属项目不能为空\", trigger: \"blur\"}],\r\n    testUser: [{required: true, message: \"测试负责人不能为空\", trigger: \"blur\"}],\r\n    sort: [{required: true, message: \"模块顺序不能为空\", trigger: \"blur\"}]\r\n  }\r\n});\r\n\r\nconst {queryParams, form, rules} = toRefs(data);\r\n\r\ndefineExpose({getList})\r\n\r\n/** 查询模块列表 */\r\nfunction getList() {\r\n  loading.value = true;\r\n  listModule(queryParams.value).then(response => {\r\n    moduleList.value = response.rows;\r\n    total.value = response.total;\r\n    loading.value = false;\r\n  });\r\n}\r\n\r\n/** 查询项目列表 */\r\nfunction getProjectSelect() {\r\n  listProject({isPage: false}).then(response => {\r\n    projectOptions.value = response.data;\r\n  });\r\n}\r\n\r\n// 格式化项目名称的函数\r\nfunction formatProject(row, column, cellValue) {\r\n  // 假设每个debugtalk对象都有一个projectId属性，用于从其他地方获取项目名称\r\n  return getProjectName(row.projectId); // getProjectName是一个根据projectId获取项目名称的函数\r\n}\r\n\r\n// 获取项目名称的函数（这里应该是你的实际逻辑）\r\nfunction getProjectName(projectId) {\r\n  // 根据projectId从某个地方（例如另一个数组或API）获取项目名称\r\n  for (const project of projectOptions.value) {\r\n    if (projectId === project.projectId) {\r\n      return project.projectName;\r\n    }\r\n  }\r\n}\r\n\r\n/** 取消按钮 */\r\nfunction cancel() {\r\n  open.value = false;\r\n  reset();\r\n}\r\n\r\n/** 表单重置 */\r\nfunction reset() {\r\n  form.value = {\r\n    moduleId: undefined,\r\n    projectId: undefined,\r\n    moduleName: undefined,\r\n    sort: 0,\r\n    status: \"0\",\r\n    remark: undefined\r\n  };\r\n  proxy.resetForm(\"postRef\");\r\n}\r\n\r\n/** 搜索按钮操作 */\r\nfunction handleQuery() {\r\n  queryParams.value.pageNum = 1;\r\n  getProjectSelect();\r\n  getList();\r\n}\r\n\r\n/** 重置按钮操作 */\r\nfunction resetQuery() {\r\n  proxy.resetForm(\"queryRef\");\r\n  handleQuery();\r\n}\r\n\r\n/** 多选框选中数据 */\r\nfunction handleSelectionChange(selection) {\r\n  ids.value = selection.map(item => item.moduleId);\r\n  moduleIds.value = ids.value;\r\n  single.value = selection.length != 1;\r\n  multiple.value = !selection.length;\r\n}\r\n\r\n/** 新增按钮操作 */\r\nfunction handleAdd() {\r\n  reset();\r\n  open.value = true;\r\n  title.value = \"添加模块\";\r\n}\r\n\r\n/** 修改按钮操作 */\r\nfunction handleUpdate(row) {\r\n  reset();\r\n  const moduleId = row.moduleId || ids.value;\r\n  getModule(moduleId).then(response => {\r\n    form.value = response.data;\r\n    open.value = true;\r\n    title.value = \"修改模块\";\r\n  });\r\n}\r\n\r\n/** 提交按钮 */\r\nfunction submitForm() {\r\n  proxy.$refs[\"postRef\"].validate(valid => {\r\n    if (valid) {\r\n      if (form.value.moduleId != undefined) {\r\n        updateModule(form.value).then(response => {\r\n          proxy.$modal.msgSuccess(\"修改成功\");\r\n          open.value = false;\r\n          getList();\r\n        });\r\n      } else {\r\n        addModule(form.value).then(response => {\r\n          proxy.$modal.msgSuccess(\"新增成功\");\r\n          open.value = false;\r\n          getList();\r\n        });\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\n/** 删除按钮操作 */\r\nfunction handleDelete(row) {\r\n  const moduleIds = row.moduleId || ids.value;\r\n  proxy.$modal.confirm('是否确认删除模块编号为\"' + moduleIds + '\"的数据项？').then(function () {\r\n    return delModule(moduleIds);\r\n  }).then(() => {\r\n    getList();\r\n    proxy.$modal.msgSuccess(\"删除成功\");\r\n  }).catch(() => {\r\n  });\r\n}\r\n\r\n/** 导出按钮操作 */\r\nfunction handleExport() {\r\n  proxy.download(\"hrm/module/export\", {\r\n    ...queryParams.value\r\n  }, `Module_${new Date().getTime()}.xlsx`);\r\n}\r\n\r\n/** 运行用例 */\r\nfunction runTest(row) {\r\n  if (row && \"moduleId\" in row && row.moduleId) {\r\n    runIds.value = [row.moduleId];\r\n  }\r\n  if (!runIds.value || runIds.value.length === 0) {\r\n    ElMessageBox.alert('请选择要运行的模块', \"提示！\", {type: 'warning'});\r\n    return;\r\n  }\r\n\r\n  runDialogShow.value = true;\r\n\r\n}\r\n\r\n/** 保存套件配置 **/\r\nfunction saveConfigSuite(row) {\r\n  if (row && \"projectId\" in row && row.moduleId) {\r\n    moduleIds.value = [row.moduleId];\r\n  }\r\n  if (!moduleIds.value || moduleIds.value.length === 0) {\r\n    ElMessageBox.alert('请选择模块', \"提示！\", {type: \"warning\"});\r\n    return;\r\n  }\r\n  const data = {\r\n    \"suiteId\": configSuiteId.value,\r\n    \"dataIds\": moduleIds.value,\r\n    \"dataType\": 2\r\n  }\r\n  addSuiteDetail(data).then(response => {\r\n    proxy.$modal.msgSuccess(\"新增成功\");\r\n    openProjectCaseDialog.value = false;\r\n  });\r\n}\r\n\r\n\r\ngetProjectSelect();\r\n// getList();\r\n</script>\r\n","<template>\r\n  <el-dialog\r\n      v-model=\"openConfigSuiteDataDialog\"\r\n      width=\"90%\"\r\n      title=\"套件数据配置\"\r\n      append-to-body\r\n      destroy-on-close\r\n      draggable\r\n      overflow\r\n      :close-on-click-modal=\"false\"\r\n      @closed=\"$emit('close-dialog')\"\r\n  >\r\n    <el-tabs v-model=\"activeName\" class=\"demo-tabs\" @tab-click=\"handleClick\">\r\n      <el-tab-pane label=\"Case\" name=\"Case\">\r\n        <CaseData\r\n            :suiteId=\"suiteId\"\r\n            ref=\"callCase\"\r\n        >\r\n\r\n        </CaseData>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"Module\" name=\"Module\">\r\n        <ModuleData\r\n            :suiteId=\"suiteId\"\r\n            ref=\"callModule\"\r\n        >\r\n\r\n        </ModuleData>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"Project\" name=\"Project\">\r\n        <ProjectData\r\n            :suiteId=\"suiteId\"\r\n            ref=\"callProject\"\r\n        >\r\n\r\n        </ProjectData>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\n\r\nimport ProjectData from \"@/components/qtr/project-data.vue\";\r\n\r\nconst openConfigSuiteDataDialog = defineModel(\"openConfigSuiteDataDialog\");\r\nimport { ref } from 'vue'\r\nimport type { TabsPaneContext } from 'element-plus'\r\nimport CaseData from \"@/components/qtr/case-data.vue\";\r\nimport ModuleData from \"@/components/qtr/module-data.vue\";\r\n\r\nconst suiteId = defineModel(\"suiteId\")\r\nconst activeName = ref('Case')\r\nconst callCase = ref(null);\r\nconst callModule = ref(null);\r\nconst callProject = ref(null);\r\nconst handleClick = (tab: TabsPaneContext, event: Event) => {\r\n  // console.log(tab.props.name, event);\r\n  if (tab.props.name === 'Case') {\r\n    callCase.value.getList();\r\n  } else if (tab.props.name === 'Module') {\r\n    callModule.value.getList();\r\n  } else if (tab.props.name === 'Project') {\r\n    callProject.value.getList();\r\n  }\r\n}\r\n\r\nconst emit = defineEmits([\"close-dialog\"])\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .demo-tabs > .el-tabs__content {\r\n    padding: 32px;\r\n    color: #6b778c;\r\n    font-size: 32px;\r\n    font-weight: 600;\r\n  }\r\n</style>\r\n","<template>\r\n  <el-dialog\r\n      fullscreen\r\n      :suiteId=suiteId\r\n      v-model=\"openSuiteDetailDialog\"\r\n      append-to-body\r\n      destroy-on-close\r\n      @close=\"clearData\"\r\n      @open=\"getList\"\r\n\r\n  >\r\n    <div class=\"app-container\">\r\n      <el-form :model=\"queryParams\" ref=\"queryRef_detail\" :inline=\"true\" v-show=\"showSearch\">\r\n        <el-form-item label=\"所属项目\" prop=\"projectId\">\r\n          <el-select v-model=\"queryParams.projectId\" placeholder=\"请选择\" @change=\"resetModule\" clearable\r\n                     style=\"width: 150px\">\r\n            <el-option\r\n                v-for=\"option in projectOptions\"\r\n                :key=\"option.projectId\"\r\n                :label=\"option.projectName\"\r\n                :value=\"option.projectId\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"所属模块\" prop=\"moduleId\">\r\n          <el-select v-model=\"queryParams.moduleId\" placeholder=\"请选择\" clearable style=\"width: 150px\">\r\n            <el-option\r\n                v-for=\"option in moduleOptions\"\r\n                :key=\"option.moduleId\"\r\n                :label=\"option.moduleName\"\r\n                :value=\"option.moduleId\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        、\r\n        <el-form-item label=\"数据ID\" prop=\"dataId\">\r\n          <el-input\r\n              v-model=\"queryParams.dataId\"\r\n              placeholder=\"请输入数据ID\"\r\n              clearable\r\n              style=\"width: 200px\"\r\n              @keyup.enter=\"handleQuery\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"数据名称\" prop=\"dataName\">\r\n          <el-input\r\n              v-model=\"queryParams.dataName\"\r\n              placeholder=\"请输入数据名称\"\r\n              clearable\r\n              style=\"width: 200px\"\r\n              @keyup.enter=\"handleQuery\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"数据状态\" prop=\"status\">\r\n          <el-select v-model=\"queryParams.status\" placeholder=\"数据状态\" clearable style=\"width: 200px\">\r\n            <el-option\r\n                v-for=\"dict in qtr_case_status\"\r\n                :key=\"dict.value * 1\"\r\n                :label=\"dict.label\"\r\n                :value=\"dict.value * 1\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" icon=\"Search\" @click=\"handleQuery\">搜索</el-button>\r\n          <el-button type=\"success\" icon=\"Refresh\" @click=\"resetQuery\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <el-row :gutter=\"10\" class=\"mb8\">\r\n        <el-col :span=\"1.5\">\r\n          <el-button type=\"warning\" icon=\"Plus\" @click=\"handleSelectCase\">选择数据</el-button>\r\n        </el-col>\r\n        <right-toolbar v-model:showSearch=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\r\n      </el-row>\r\n    </div>\r\n    <el-table\r\n        border\r\n        v-if=\"refreshTable\"\r\n        v-loading=\"loading\"\r\n        :data=\"suiteDetailList\"\r\n        row-key=\"suiteDetailId\"\r\n        :default-expand-all=\"isExpandAll\"\r\n        @selection-change=\"handleSelectionChange\"\r\n    >\r\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\"/>\r\n      <el-table-column prop=\"suiteDetailId\" label=\"ID\" width=\"160\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"suiteId\" label=\"套件ID\" width=\"160\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"dataId\" label=\"数据ID\" width=\"160\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"dataType\" label=\"数据类型\" width=\"100\" align=\"center\">\r\n        <template #default=\"scope\">\r\n          <dict-tag :options=\"qtr_data_type\" :value=\"scope.row.dataType + ''\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"dataName\" label=\"数据名称\"></el-table-column>\r\n      <el-table-column prop=\"orderNum\" label=\"排序\" width=\"80px\">\r\n        <template #default=\"scope\">\r\n          <el-input v-model=\"scope.row.orderNum\"\r\n                    @change=\"changeOrder(scope.row)\"\r\n\r\n          ></el-input>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"dataStatus\" label=\"数据状态\" width=\"100\" align=\"center\">\r\n        <template #default=\"scope\">\r\n          <dict-tag :options=\"qtr_case_status\" :value=\"scope.row.dataStatus + ''\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"创建时间\" align=\"center\" prop=\"createTime\" width=\"160\"\r\n                       class-name=\"small-padding fixed-width\">\r\n        <template #default=\"scope\">\r\n          <span>{{ parseTime(scope.row.createTime) }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"更新时间\" align=\"center\" prop=\"updateTime\" width=\"160\"\r\n                       class-name=\"small-padding fixed-width\">\r\n        <template #default=\"scope\">\r\n          <span>{{ parseTime(scope.row.updateTime) }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"170\" align=\"center\" class-name=\"small-padding fixed-width\" fixed=\"right\">\r\n        <template #default=\"scope\">\r\n          <el-switch\r\n              v-model=\"scope.row.status\"\r\n              :active-value=\"2\"\r\n              active-text=\"启用\"\r\n              :inactive-value=\"1\"\r\n              inactive-text=\"停用\"\r\n              @change=\"handleStatusChange(scope.row)\"\r\n              :loading=\"loadingSwitch\"\r\n          ></el-switch>\r\n          <el-button link type=\"danger\" icon=\"Delete\" @click=\"handleDelete(scope.row)\" v-hasPermi=\"['qtr:suite:remove']\"\r\n                     title=\"删除\"/>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <pagination\r\n        v-show=\"total > 0\"\r\n        :total=\"total\"\r\n        v-model:page=\"queryParams.pageNum\"\r\n        v-model:limit=\"queryParams.pageSize\"\r\n        @pagination=\"getList\"\r\n    />\r\n\r\n    <!--  配置套件数据  -->\r\n    <ConfigSuiteDataDialog\r\n        :form-datas=\"form\"\r\n        :suiteId=\"configSuiteId\"\r\n        @closeDialog=\"getList\"\r\n        v-model:open-config-suite-data-dialog=\"openConfigSuiteDataDialog\">\r\n    </ConfigSuiteDataDialog>\r\n  </el-dialog>\r\n\r\n</template>\r\n\r\n<script setup name=\"SuiteDetail\">\r\nimport {changeContentOrder, getSuiteDetail, listDetailSuite, updateSuiteDetail} from \"@/api/qtr/suite.js\";\r\nimport {listProject} from \"@/api/hrm/project.js\";\r\nimport {selectModulList} from \"@/api/hrm/module.js\";\r\nimport ConfigSuiteDataDialog from \"@/components/qtr/config-suite-data-dialog.vue\";\r\nimport {ElMessage} from \"element-plus\";\r\n\r\nconst suiteId = defineModel(\"suiteId\")\r\nconst {proxy} = getCurrentInstance();\r\nconst {qtr_case_status} = proxy.useDict(\"qtr_case_status\");\r\nconst {qtr_data_type} = proxy.useDict(\"qtr_data_type\");\r\nconst showSearch = ref(true);\r\nconst openConfigSuiteDataDialog = ref(false);\r\nconst loading = ref(false);\r\nconst loadingSwitch = ref(false);\r\nconst total = ref(0);\r\nconst configSuiteId = ref(0);\r\nconst suiteDetailList = ref([]);\r\nconst suiteDetailListData = ref([]);\r\nconst projectOptions = ref([]);\r\nconst moduleOptions = ref([]);\r\nconst refreshTable = ref(true);\r\nconst isExpandAll = ref(true);\r\nconst suiteDetailIds = ref([])\r\n\r\nconst data = reactive({\r\n  form: {},\r\n  queryParams: {\r\n    dataName: undefined,\r\n    projectId: undefined,\r\n    suiteDetailId: undefined,\r\n    suiteId: suiteId,\r\n    dataId: undefined,\r\n    moduleId: undefined,\r\n    pageNum: 1,\r\n    pageSize: 10,\r\n    status: undefined\r\n  }\r\n});\r\n\r\nconst openSuiteDetailDialog = defineModel(\"openSuiteDetailDialog\");\r\nconst {queryParams, form} = toRefs(data);\r\n\r\n/** 展开/折叠操作 */\r\nfunction toggleExpandAll() {\r\n  refreshTable.value = false;\r\n  isExpandAll.value = !isExpandAll.value;\r\n  nextTick(() => {\r\n    refreshTable.value = true;\r\n  });\r\n}\r\n\r\nfunction handleSelectionChange(selection) {\r\n  suiteDetailIds.value = selection.map(item => item.suiteDetailId);\r\n}\r\n\r\n\r\n\r\n/** 表单重置 */\r\nfunction reset() {\r\n  form.value = {\r\n    suiteDetailId: 0,\r\n    suiteName: undefined,\r\n    suiteId: 0,\r\n    orderNum: 0,\r\n    simpleDesc: undefined,\r\n    status: \"0\"\r\n  };\r\n  proxy.resetForm(\"suiteRef\");\r\n}\r\n\r\n/** 搜索按钮操作 */\r\nfunction handleQuery() {\r\n  getList();\r\n}\r\n\r\n/** 重置按钮操作 */\r\nfunction resetQuery() {\r\n  proxy.resetForm(\"queryRef_detail\");\r\n  handleQuery();\r\n}\r\n\r\n/** 选择用例按钮操作 */\r\nfunction handleSelectCase() {\r\n  configSuiteId.value = suiteId.value;\r\n  // openProjectCaseDialog.value = true;\r\n  openConfigSuiteDataDialog.value = true;\r\n}\r\n\r\n/** 查询项目列表 */\r\nfunction getProjectSelect() {\r\n  listProject(null).then(response => {\r\n    projectOptions.value = response.data;\r\n  });\r\n}\r\n\r\n/** 查询模块列表 */\r\nfunction getModuleSelect() {\r\n  selectModulList(queryParams.value).then(response => {\r\n    moduleOptions.value = response.data;\r\n  });\r\n}\r\n\r\n/**重置查询条件所属模块下拉框*/\r\nfunction resetModule() {\r\n  queryParams.value.moduleId = undefined;\r\n  getModuleSelect();\r\n}\r\n\r\n/** 查询套件详情列表 */\r\nfunction getList() {\r\n  loading.value = true;\r\n  listDetailSuite(queryParams.value).then(response => {\r\n    suiteDetailList.value = response.rows;\r\n    // suiteDetailListData.value = response.rows.map(group =>{\r\n    //   let data_type = group.find(obj => obj.dataType !== undefined).dataType;\r\n    //   let tmpCaseStatus = group.find(obj => obj.caseStatus !== undefined).caseStatus;\r\n    //   let dataType = getKeyByValue(HrmDataTypeEnum, data_type);\r\n    //   let projectObj = group.find(obj => obj.projectName !== undefined)\r\n    //   let moduleObj = group.find(obj => obj.moduleName !== undefined)\r\n    //   let caseObj = group.find(obj => obj.caseName !== undefined)\r\n    //   let dataName = undefined;\r\n    //   if (projectObj.projectName !== null){\r\n    //     dataName = projectObj.projectName;\r\n    //   } else if (moduleObj.moduleName !== null) {\r\n    //     dataName = moduleObj.moduleName;\r\n    //   } else if (caseObj.caseName !== null) {\r\n    //     dataName = caseObj.caseName;\r\n    //   }\r\n    //   let newObject = {\r\n    //     suiteDetailId: group.find(obj => obj.suiteDetailId !== undefined).suiteDetailId,\r\n    //     suiteId: group.find(obj => obj.suiteId !== undefined).suiteId,\r\n    //     dataId: group.find(obj => obj.dataId !== undefined).dataId,\r\n    //     dataType: dataType,\r\n    //     caseStatus: tmpCaseStatus,\r\n    //     dataName: dataName,\r\n    //     status: group.find(obj => obj.status !== undefined).status,\r\n    //     createTime: group.find(obj => obj.createTime !== undefined).createTime,\r\n    //     updateTime: group.find(obj => obj.updateTime !== undefined).updateTime,\r\n    //     total: response.total\r\n    //   }\r\n    //   return newObject;\r\n    // });\r\n    total.value = response.total;\r\n  }).finally(() => {\r\n    loading.value = false;\r\n  });\r\n}\r\n\r\n// 关闭dialog时清空列表数据\r\nfunction clearData() {\r\n  suiteDetailList.value = []\r\n}\r\n\r\n// 启用或停用套件中的数据\r\nfunction handleStatusChange(row) {\r\n  loadingSwitch.value = true;\r\n  getSuiteDetail(row.suiteDetailId).then(response => {\r\n    if (!response.data || Object.keys(response.data).length === 0) {\r\n      alert(\"未查到对应数据！\");\r\n      return;\r\n    }\r\n    response.data.status = row.status\r\n    updateSuiteDetail(response.data).then(response => {\r\n      proxy.$modal.msgSuccess(\"修改成功\");\r\n\r\n    });\r\n  }).finally(() => {\r\n    loadingSwitch.value = false;\r\n  });\r\n\r\n}\r\n\r\nfunction changeOrder(row) {\r\n  changeContentOrder({\"suiteId\": row.suiteId, \"orderNum\": row.orderNum, \"dataId\": row.dataId}).then(response =>{\r\n    ElMessage.success(response.msg);\r\n  }).catch(reason=>{\r\n    ElMessage.error(\"操作失败\");\r\n  });\r\n}\r\n\r\ngetProjectSelect();\r\ngetList();\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n","<template>\r\n  <div class=\"app-container\">\r\n    <SuiteTableQuery @select-change=\"handleSelectionChange\" ref=\"suiteQueryViewRef\">\r\n      <template #table-tool>\r\n        <el-col :span=\"1.5\">\r\n          <el-button\r\n              type=\"primary\"\r\n              plain\r\n              icon=\"Plus\"\r\n              @click=\"handleAdd\"\r\n              v-hasPermi=\"['qtr:suite:add']\"\r\n          >新增\r\n          </el-button>\r\n          <el-button type=\"warning\" icon=\"CaretRight\" @click=\"runTest\"\r\n                     v-hasPermi=\"['hrm:case:run']\" title=\"运行\">执行\r\n          </el-button>\r\n        </el-col>\r\n      </template>\r\n      <template #tableOperate=\"{scope}\">\r\n        <el-button link type=\"primary\" icon=\"Edit\" @click=\"handleUpdate(scope.row)\" v-hasPermi=\"['qtr:suite:edit']\">\r\n          修改\r\n        </el-button>\r\n        <el-button link type=\"primary\" icon=\"Tools\" @click=\"handleConfigSuite(scope.row)\"\r\n                   v-hasPermi=\"['qtr:suite:edit']\">\r\n          配置\r\n        </el-button>\r\n        <el-button link type=\"primary\" icon=\"Delete\" @click=\"handleDelete(scope.row)\"\r\n                   v-hasPermi=\"['qtr:suite:remove']\">\r\n          删除\r\n        </el-button>\r\n      </template>\r\n    </SuiteTableQuery>\r\n\r\n    <!-- 添加或修改套件对话框 -->\r\n    <el-dialog :title=\"title\" v-model=\"open\" append-to-body>\r\n      <el-form ref=\"suiteRef\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"套件名称\" prop=\"suiteName\">\r\n              <el-input v-model=\"form.suiteName\" placeholder=\"请输入套件名称\"/>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"显示排序\" prop=\"orderNum\">\r\n              <el-input-number v-model=\"form.orderNum\" controls-position=\"right\" :min=\"0\"/>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"套件描述\" prop=\"simpleDesc\">\r\n              <el-input v-model=\"form.simpleDesc\" placeholder=\"请输入描述\" maxlength=\"400\"/>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"套件状态\">\r\n              <el-radio-group v-model=\"form.status\">\r\n                <el-radio\r\n                    v-for=\"dict in qtr_data_status\"\r\n                    :key=\"dict.value * 1\"\r\n                    :value=\"dict.value * 1\"\r\n                >{{ dict.label }}\r\n                </el-radio>\r\n              </el-radio-group>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n      <template #footer>\r\n        <div class=\"dialog-footer\">\r\n          <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n          <el-button @click=\"cancel\">取 消</el-button>\r\n        </div>\r\n      </template>\r\n    </el-dialog>\r\n\r\n    <!-- 运行用例对话框 -->\r\n    <RunDialog v-model:dialog-visible=\"runDialogShow\" :run-type=\"RunTypeEnum.suite\" :run-ids=\"runIds\"></RunDialog>\r\n\r\n    <!-- 配置套件详情对话框 -->\r\n    <SuiteDetailDialog :form-datas=\"form\"\r\n                       v-model:open-suite-detail-dialog=\"openSuiteDetail\"\r\n                       :title=\"SuiteTitle\"\r\n                       :suiteId=\"configSuiteId\"\r\n                       show-close\r\n                       :destroy-on-close=\"true\">\r\n    </SuiteDetailDialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {addSuite, delSuite, getSuite, updateSuite} from \"@/api/qtr/suite\";\r\nimport {ElMessageBox} from \"element-plus\";\r\nimport {RunTypeEnum, StatusNewEnum} from \"@/components/hrm/enum.js\";\r\nimport RunDialog from \"@/components/hrm/common/run/run_dialog.vue\";\r\nimport SuiteDetailDialog from \"@/components/qtr/suite-detail-dialog.vue\";\r\nimport SuiteTableQuery from \"@/components/qtr/util-data-table/suite-table-query.vue\";\r\n\r\n\r\nconst {proxy} = getCurrentInstance();\r\nconst {qtr_data_status} = proxy.useDict(\"qtr_data_status\");\r\n\r\nconst suiteQueryViewRef = ref(null);\r\nconst open = ref(false);\r\nconst openSuiteDetail = ref(false);\r\nconst loading = ref(true);\r\nconst showSearch = ref(true);\r\nconst title = ref(\"\");\r\nconst configSuiteId = ref(0);\r\nconst total = ref(0);\r\nconst runDialogShow = ref(false);\r\nconst runIds = ref([]);\r\n\r\nconst data = reactive({\r\n  form: {},\r\n  queryParams: {\r\n    pageNum: 1,\r\n    pageSize: 10,\r\n    suiteName: undefined,\r\n    status: undefined\r\n  },\r\n  rules: {\r\n    suiteName: [{required: true, message: \"套件名称不能为空\", trigger: \"blur\"}],\r\n    orderNum: [{required: true, message: \"显示排序不能为空\", trigger: \"blur\"}]\r\n  },\r\n});\r\n\r\nconst {queryParams, form, rules} = toRefs(data);\r\n\r\nconst SuiteTitle = computed(() => {\r\n  return title.value;\r\n});\r\n\r\nfunction handleSelectionChange(selection) {\r\n  runIds.value = selection.map(item => item.suiteId);\r\n}\r\n\r\n\r\n/** 取消按钮 */\r\nfunction cancel() {\r\n  open.value = false;\r\n  reset();\r\n}\r\n\r\n/** 表单重置 */\r\nfunction reset() {\r\n  form.value = {\r\n    suiteId: undefined,\r\n    suiteName: undefined,\r\n    orderNum: 0,\r\n    simpleDesc: undefined,\r\n    status: StatusNewEnum.normal.value\r\n  };\r\n  proxy.resetForm(\"suiteRef\");\r\n}\r\n\r\n/** 新增按钮操作 */\r\nfunction handleAdd(row) {\r\n  reset();\r\n  open.value = true;\r\n  title.value = \"添加套件\";\r\n}\r\n\r\n/** 配置按钮操作 */\r\nfunction handleConfigSuite(row) {\r\n  const suiteId = row.suiteId;\r\n  getSuite(suiteId).then(response => {\r\n    if (!response.data || Object.keys(response.data).length === 0) {\r\n      alert(\"未查到对应数据！\");\r\n      return;\r\n    }\r\n    form.value = response.data;\r\n    openSuiteDetail.value = true;\r\n    configSuiteId.value = row.suiteId;\r\n    title.value = \"配置套件\" + \"【\" + response.data['suiteName'] + \"】\";\r\n  });\r\n}\r\n\r\n/** 运行套件 */\r\nfunction handleRun(row) {\r\n  // TODO\r\n\r\n}\r\n\r\n\r\n/** 修改按钮操作 */\r\nfunction handleUpdate(row) {\r\n  reset();\r\n  getSuite(row.suiteId).then(response => {\r\n    if (!response.data || Object.keys(response.data).length === 0) {\r\n      alert(\"未查到对应数据！\");\r\n      return;\r\n    }\r\n    form.value = response.data;\r\n    open.value = true;\r\n    title.value = \"修改套件\";\r\n  });\r\n}\r\n\r\n/** 提交按钮 */\r\nfunction submitForm() {\r\n  proxy.$refs[\"suiteRef\"].validate(valid => {\r\n    if (valid) {\r\n      if (form.value.suiteId !== undefined) {\r\n        updateSuite(form.value).then(response => {\r\n          proxy.$modal.msgSuccess(\"修改成功\");\r\n          open.value = false;\r\n          suiteQueryViewRef.value.handleQuery();\r\n        });\r\n      } else {\r\n        addSuite(form.value).then(response => {\r\n          proxy.$modal.msgSuccess(\"新增成功\");\r\n          open.value = false;\r\n          suiteQueryViewRef.value.handleQuery();\r\n        });\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\n/** 删除按钮操作 */\r\nfunction handleDelete(row) {\r\n  proxy.$modal.confirm('是否确认删除名称为\"' + row.suiteName + '\"的数据项?').then(function () {\r\n    return delSuite(row.suiteId);\r\n  }).then(() => {\r\n    suiteQueryViewRef.value.handleQuery();\r\n    proxy.$modal.msgSuccess(\"删除成功\");\r\n  }).catch(() => {\r\n  });\r\n}\r\n\r\nfunction runTest(row) {\r\n  if (row && \"suiteId\" in row && row.suiteId) {\r\n    runIds.value = [row.suiteId];\r\n  }\r\n  if (!runIds.value || runIds.value.length === 0) {\r\n    ElMessageBox.alert('请选择要运行的套件', \"提示！\", {type: 'warning'});\r\n    return;\r\n  }\r\n  runDialogShow.value = true;\r\n}\r\n\r\n</script>\r\n"],"names":["proxy","getCurrentInstance","qtr_data_status","projectList","ref","loading","showSearch","isExpandAll","refreshTable","ids","configSuiteId","_useModel","__props","projectIds","data","reactive","queryParams","form","rules","toRefs","__expose","getList","listProject","response","handleSelectionChange","selection","item","handleQuery","resetQuery","saveConfigSuite","row","ElMessageBox","addSuiteDetail","sys_normal_disable","hrm_data_type","props","dataName","computed","HrmDataTypeEnum","provide","openProjectCaseDialog","caseList","projectOptions","moduleOptions","single","multiple","total","onlySelf","caseIds","toRef","initCaseFormData","nameOrGlob","val","listCase","getProjectSelect","getModuleSelect","selectModulList","resetModule","moduleList","open","title","moduleIds","listModule","formatProject","column","cellValue","getProjectName","projectId","project","reset","handleUpdate","moduleId","getModule","handleDelete","delModule","openConfigSuiteDataDialog","suiteId","activeName","callCase","callModule","callProject","handleClick","tab","event","qtr_case_status","qtr_data_type","loadingSwitch","suiteDetailList","suiteDetailIds","openSuiteDetailDialog","handleSelectCase","listDetailSuite","clearData","handleStatusChange","getSuiteDetail","updateSuiteDetail","changeOrder","changeContentOrder","ElMessage","reason","suiteQueryViewRef","openSuiteDetail","runDialogShow","runIds","SuiteTitle","cancel","StatusNewEnum","handleAdd","handleConfigSuite","getSuite","submitForm","valid","updateSuite","addSuite","delSuite","runTest"],"mappings":"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"}