import{i as b}from"./index.Bwr1islb.js";import{c as H}from"./report.BSxOhV7z.js";import{_ as B,r as v,C as O,G as T,d as r,H as V,I as L,h as m,o as w,c as F,e,f as a,i as l,p as y}from"./index.B-ki0wTK.js";const N={style:{width:"100%",height:"100%",display:"flex","flex-direction":"column","align-items":"stretch","padding-top":"10px"}},U={style:{display:"flex","flex-direction":"row"}},j={style:{display:"inline-flex","align-items":"center"}},P={style:{display:"flex"}},R={style:{display:"inline-flex","align-items":"center"}},S={style:{display:"flex"}},W={style:{display:"inline-flex","align-items":"center"}},Y={style:{display:"flex"}},$={style:{display:"inline-flex","align-items":"center"}},G={__name:"echarts",setup(z){const x=v(null);let u=null;const h=v(!1),d=v({tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!1,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["失败用例","成功用例","通过率"]},xAxis:[{type:"category",data:[],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"个数",min:0,max:100,interval:10,axisLabel:{formatter:"{value} "}},{type:"value",name:"成功率",min:0,max:100,interval:10,axisLabel:{formatter:"% {value}"}}],series:[{name:"失败用例",type:"bar",data:[0,0,1,0,0,0,0,0,0,0,0,0]},{name:"通过率",type:"line",yAxisIndex:1,data:[0,0,90,0,0,0,0,0,0,0,0,0]},{name:"成功用例",type:"bar",data:[0,0,10,0,0,0,0,0,0,0,0,0]}]}),p=v({});function A(){let n=[];for(var t=0;t<12;t++)n[t]=C(t);return n.reverse()}function C(n){let t=new Date,f=t.getTime()+1e3*60*60*24*n*-1;t.setTime(f);let s=t.getFullYear(),i=t.getMonth(),o=t.getDate();return i=g(i+1),o=g(o),s+"-"+i+"-"+o}function g(n){let t=n;return n.toString().length===1&&(t="0"+n),t}return O(async()=>{h.value=!0,H().then(n=>{let t=n.data;p.value=t;let f=t.total.pass,s=t.total.fail,i=t.total.percent,o=A();d.value.xAxis[0].data=o,d.value.series[0].data=s,d.value.series[1].data=i,d.value.series[2].data=f;let c=Math.max.apply(null,d.value.series[0].data),_=Math.max.apply(null,d.value.series[2].data);Math.max(c,_)>100&&(d.value.yAxis[0].max=Math.max(c,_)+10,d.value.yAxis[0].interval=parseInt(Math.max(c,_)/10)),u=b(x.value),u.setOption(d.value,!0)}).finally(()=>{h.value=!1}),window.addEventListener("resize",()=>{u.resize()},!1)}),T(()=>{u!=null&&u.dispose&&u.dispose()}),(n,t)=>{const f=r("UserFilled"),s=r("el-icon"),i=r("Warning"),o=r("el-tooltip"),c=r("el-statistic"),_=r("el-card"),M=r("HelpFilled"),D=r("Histogram"),k=r("Operation"),E=r("el-row"),I=V("loading");return L((w(),F("div",N,[e(E,{justify:"space-evenly"},{default:a(()=>[e(_,{style:{width:"20%"},shadow:"hover"},{default:a(()=>[l("div",U,[l("div",null,[e(s,{size:"50",color:"#2BE5BFFF",style:{color:"#efd110"}},{default:a(()=>[e(f)]),_:1})]),l("div",null,[e(c,{value:m(p).projectCount},{title:a(()=>[l("div",j,[t[0]||(t[0]=y(" 项目 ")),e(o,{effect:"dark",content:"项目总数",placement:"top"},{default:a(()=>[e(s,{style:{"margin-left":"4px"},size:12},{default:a(()=>[e(i)]),_:1})]),_:1})])]),_:1},8,["value"])])])]),_:1}),e(_,{style:{width:"20%"},shadow:"hover"},{default:a(()=>[l("div",P,[l("div",null,[e(s,{size:"50",color:"#EA5959FF"},{default:a(()=>[e(M)]),_:1})]),l("div",null,[e(c,{value:m(p).moduleCount},{title:a(()=>[l("div",R,[t[1]||(t[1]=y(" 模块 ")),e(o,{effect:"dark",content:"模块总数",placement:"top"},{default:a(()=>[e(s,{style:{"margin-left":"4px"},size:12},{default:a(()=>[e(i)]),_:1})]),_:1})])]),_:1},8,["value"])])])]),_:1}),e(_,{style:{width:"20%"},shadow:"hover"},{default:a(()=>[l("div",S,[l("div",null,[e(s,{size:"50",color:"#19C6EFFF"},{default:a(()=>[e(D)]),_:1})]),l("div",null,[e(c,{value:m(p).caseCount},{title:a(()=>[l("div",W,[t[2]||(t[2]=y(" 用例 ")),e(o,{effect:"dark",content:"用例总数",placement:"top"},{default:a(()=>[e(s,{style:{"margin-left":"4px"},size:12},{default:a(()=>[e(i)]),_:1})]),_:1})])]),_:1},8,["value"])])])]),_:1}),e(_,{style:{width:"20%"},shadow:"hover"},{default:a(()=>[l("div",Y,[l("div",null,[e(s,{size:"50",color:"#EFD110FF"},{default:a(()=>[e(k)]),_:1})]),l("div",null,[e(c,{value:m(p).suiteCount},{title:a(()=>[l("div",$,[t[3]||(t[3]=y(" 套件 ")),e(o,{effect:"dark",content:"套件总数",placement:"top"},{default:a(()=>[e(s,{style:{"margin-left":"4px"},size:12},{default:a(()=>[e(i)]),_:1})]),_:1})])]),_:1},8,["value"])])])]),_:1})]),_:1}),l("div",{class:"echarts",ref_key:"echartsRef",ref:x,style:{width:"100%","flex-grow":"1"}},null,512)])),[[I,m(h)]])}}},q=B(G,[["__scopeId","data-v-aef7d762"]]),J={style:{height:"calc(100vh - 85px)",width:"100%"}},Z={__name:"index",setup(z){return(x,u)=>(w(),F("div",J,[e(q)]))}};export{Z as default};
