{"version":3,"file":"env-selector.Ck8UcPDe.js","sources":["../../../src/components/hrm/common/env-selector.vue"],"sourcesContent":["<script setup>\r\n\r\nimport {allEnv} from \"@/api/hrm/env.js\";\r\n\r\nconst selectedEnv = defineModel(\"selectedEnv\");\r\nconst props = defineProps({\r\n  disable: {type: Boolean, default: false},\r\n  selectorWidth: {default: \"200px\"}\r\n});\r\nconst envOptions = ref([]);\r\n\r\nfunction envList() {\r\n  allEnv().then(response => {\r\n    envOptions.value = response.data;\r\n  });\r\n}\r\n\r\nonMounted(() => {\r\n  envList();\r\n})\r\n\r\n</script>\r\n\r\n<template>\r\n  <el-select placeholder=\"选择环境\" v-model=\"selectedEnv\" :style=\"{width: selectorWidth}\" :disabled=\"disable\" filterable>\r\n    <template #label=\"{ label, value }\">\r\n      <template v-for=\"item in envOptions\">\r\n        <template v-if=\"item.envId === value\">\r\n          <el-tag round size=\"small\" type=\"success\" v-if=\"item.isSelf\">可管理</el-tag>\r\n          <el-tag round size=\"small\" type=\"info\" v-if=\"!item.isSelf\">可使用</el-tag>\r\n        </template>\r\n      </template>\r\n      {{ label }}\r\n    </template>\r\n    <template #loading>加载中。。。</template>\r\n    <el-option\r\n        v-for=\"option in envOptions\"\r\n        :key=\"option.envId\"\r\n        :label=\"option.envName\"\r\n        :value=\"option.envId\">\r\n      <template #default>\r\n        <el-tag round size=\"small\" type=\"success\" v-if=\"option.isSelf\">可管理</el-tag>\r\n        <el-tag round size=\"small\" type=\"info\" v-if=\"!option.isSelf\">可使用</el-tag>\r\n        {{ option.envName }}\r\n      </template>\r\n    </el-option>\r\n  </el-select>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>"],"names":["selectedEnv","_useModel","envOptions","ref","envList","allEnv","response","onMounted"],"mappings":"oXAIA,MAAMA,EAAcC,IAAY,aAAa,EAKvCC,EAAaC,EAAI,CAAA,CAAE,EAEzB,SAASC,GAAU,CACjBC,EAAQ,EAAC,KAAKC,GAAY,CACxBJ,EAAW,MAAQI,EAAS,IAChC,CAAG,CACH,CAEA,OAAAC,EAAU,IAAM,CACdH,GACF,CAAC"}