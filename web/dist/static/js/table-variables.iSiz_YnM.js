import{at as U,au as w,d as c,o,l as i,f as s,c as k,P as C,a7 as $,e as p,p as g,z as R,r as N,W as B,m as F,aE as P,aH as H,n as L,h as M,E as z,a1 as W}from"./index.CHnR_MAu.js";const O={__name:"dict_select",props:U(["optionsDict","placeholder"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=w(t,"modelValue");return(m,d)=>{const f=c("el-option"),v=c("el-select");return o(),i(v,{modelValue:e.value,"onUpdate:modelValue":d[0]||(d[0]=_=>e.value=_),placeholder:t.placeholder,clearable:""},{default:s(()=>[(o(!0),k(C,null,$(t.optionsDict,_=>(o(),i(f,{key:_.value,label:_.label,value:_.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])}}},q={__name:"select-dataType",props:U(["placeholder","options"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=w(t,"modelValue");return(m,d)=>(o(),i(O,{"options-dict":t.options,modelValue:e.value,"onUpdate:modelValue":d[0]||(d[0]=f=>e.value=f),placeholder:t.placeholder},null,8,["options-dict","modelValue","placeholder"]))}},A={__name:"popover-select",props:U(["optionsDict","placeholder"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=w(t,"modelValue");return(m,d)=>{const f=c("el-text"),v=c("el-popover"),_=c("el-option"),D=c("el-select");return o(),i(D,{modelValue:e.value,"onUpdate:modelValue":d[0]||(d[0]=h=>e.value=h),placeholder:t.placeholder,clearable:""},{default:s(()=>[(o(!0),k(C,null,$(t.optionsDict,(h,V,x)=>(o(),i(_,{key:V,label:V,value:V},{default:s(()=>[p(v,{placement:"bottom",title:V,width:200,trigger:"hover",content:h},{reference:s(()=>[p(f,{class:"m-2"},{default:s(()=>[g(R(V),1)]),_:2},1024)]),_:2},1032,["title","content"])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])}}},G={style:{display:"flex","justify-content":"left","align-items":"center","padding-bottom":"5px"}},I={__name:"table-config-common",props:U(["cols"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=w(t,"modelValue"),m=N(null),d=B("hrm_data_type"),f=B("hrm_comparator_dict");function v(u){return u?{width:u}:{}}function _(u){e.value&&typeof e.value=="object"?e.value.push({key:"",value:"",enable:!0,type:"string",desc:""}):console.log("selfData is not object")}function D(u){const l=m.value.getSelectionRows();if(console.log(m.value),l.length===0){z.alert("请选择要删除的行","提示",{confirmButtonText:"确定"});return}l.forEach(a=>{e.value.splice(e.value.indexOf(a),1)}),m.value.clearSelection()}function h(u){const l=m.value.getSelectionRows();if(l.length===0){z.alert("请选择要复制的行","提示",{confirmButtonText:"确定"});return}const a=[];l.forEach(b=>{a.push(W(b))}),console.log(a)}function V(u){z.alert("没有可以粘贴的数据","提示",{confirmButtonText:"确定"})}function x(u){let l=null;e.value.forEach((a,b)=>{if(u==="open")l=!0;else if(u==="close")l=!1;else if(u==="invert")l=!a.enable;else{console.log("类型错误");return}a.enable=l})}return(u,l)=>{const a=c("el-button"),b=c("el-table-column"),E=c("el-popover"),S=c("el-switch"),T=c("el-input"),j=c("el-table");return o(),k(C,null,[F("div",G,[p(a,{size:"small",onClick:_,icon:"CirclePlusFilled",type:"success",circle:""}),p(a,{size:"small",onClick:D,icon:"RemoveFilled",type:"danger",circle:""}),p(a,{size:"small",onClick:h,icon:"CopyDocument",type:"warning",circle:""}),p(a,{size:"small",onClick:V,icon:"DocumentCopy",type:"info",circle:""}),P(u.$slots,"tableHeader")]),p(j,{"table-layout":"fixed",ref_key:"multipleTable",ref:m,"tooltip-effect":"dark",style:{width:"100%"},size:"small",border:"",data:e.value},{default:s(()=>[p(b,{type:"selection",width:"30"}),(o(!0),k(C,null,$(t.cols,n=>(o(),i(b,H({label:n.name,ref_for:!0},v(n.width)),{header:s(()=>[n.type==="switch"?(o(),i(E,{key:0,trigger:"click"},{reference:s(()=>[g(R(n.name),1)]),default:s(()=>[p(a,{size:"small",type:"primary",circle:"",onClick:l[0]||(l[0]=r=>x("open"))},{default:s(()=>[g("全开")]),_:1}),p(a,{size:"small",type:"success",circle:"",onClick:l[1]||(l[1]=r=>x("invert"))},{default:s(()=>[g("反选")]),_:1}),p(a,{size:"small",type:"warning",circle:"",onClick:l[2]||(l[2]=r=>x("close"))},{default:s(()=>[g("全关")]),_:1})]),_:2},1024)):L("",!0)]),default:s(({row:r,$index:J})=>[n.type==="select"?(o(),i(q,{key:0,modelValue:r.type,"onUpdate:modelValue":y=>r.type=y,options:M(d)},null,8,["modelValue","onUpdate:modelValue","options"])):n.type==="compaList"?(o(),i(A,{key:1,modelValue:r[n.prop],"onUpdate:modelValue":y=>r[n.prop]=y,"options-dict":M(f)},null,8,["modelValue","onUpdate:modelValue","options-dict"])):n.type==="switch"?(o(),i(S,{key:2,modelValue:r[n.prop],"onUpdate:modelValue":y=>r[n.prop]=y},null,8,["modelValue","onUpdate:modelValue"])):(o(),i(T,{key:3,modelValue:r[n.prop],"onUpdate:modelValue":y=>r[n.prop]=y},null,8,["modelValue","onUpdate:modelValue"]))]),_:2},1040,["label"]))),256))]),_:1},8,["data"])],64)}}},Q={__name:"table-variables",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=w(t,"modelValue"),m=[{name:"启用",prop:"enable",width:60,type:"switch"},{name:"key",prop:"key",width:300},{name:"type",prop:"type",width:115,type:"select"},{name:"value",prop:"value",width:""},{name:"desc",prop:"desc",width:""}];return(d,f)=>(o(),i(I,{cols:m,modelValue:e.value,"onUpdate:modelValue":f[0]||(f[0]=v=>e.value=v)},null,8,["modelValue"]))}};export{Q as _,I as a,O as b};
